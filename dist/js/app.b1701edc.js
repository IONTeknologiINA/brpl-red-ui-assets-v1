(function(){var e={5726:function(e,t,s){"use strict";var a=s(9242),o=s(3396),l=s(7139);const n={class:"w-full h-full bg-gray-100"},i={class:"fixed w-full top-0 z-50 py-5 bg-sky-600 text-white text-center h-20"},r={class:"flex items-center justify-between flex-1 gap-8 h-full sm:justify-end px-5"},c={key:0,class:"flex flex-row w-full items-center"},u={key:1,class:"flex flex-row items-center gap-1"},d={key:1},p={key:0,class:"red-title text-lg font-medium"},g={key:1,class:"ml-4 text-semibold object-cover red-title text-left text-base text-gray-200"},h={key:2,class:"flex flex-row items-center gap-1"},m={class:"relative w-full h-full bg-grey-100 z-30"},f={class:"max-h-screen overflow-y-auto w-full h-full bg-gray-100"},y={class:"fixed bottom-0 z-30 w-full py-3 px-6 bg-gray-400 text-xs text-start text-white"};function b(e,t,s,b,w,x){const R=(0,o.up)("notifications"),k=(0,o.up)("UilMultiply"),T=(0,o.up)("UilArrowLeft"),_=(0,o.up)("UilFileSearchAlt"),$=(0,o.up)("router-view"),v=(0,o.Q2)("focus");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(R,{position:"bottom right"}),(0,o._)("header",i,[(0,o._)("div",r,[e.$store.state.search?((0,o.wg)(),(0,o.iD)("div",c,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>w.searchKey=e),autocomplete:"off",onKeyup:t[1]||(t[1]=(...e)=>x.typingSearch&&x.typingSearch(...e)),id:"nama-grafik",class:"w-full pt-2.5 pb-3 px-4 text-xs text-gray-700 border-gray-200 rounded-lg ring-1 ring-sky-700 outline-none",placeholder:"Inputkan nama grafik"},null,544),[[a.nr,w.searchKey],[v]]),(0,o.Wm)(k,{onClick:x.cancelSearch,size:"1.1rem",class:"inset-y-0 inline-flex -ml-8 right-4 text-gray-400 outline-none cursor-pointer rounded-lg hover:text-red-400"},null,8,["onClick"])])):(0,o.kq)("",!0),e.$store.state.search?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",u,[e.$store.state.homepage?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(T,{key:0,onClick:x.backHomepage,size:"2.4rem",class:"text-gray-200 outline-none cursor-pointer -ml-1.5 hover:bg-sky-700 rounded-lg"},null,8,["onClick"])),e.$store.state.search?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",d,[e.$store.state.homepage?((0,o.wg)(),(0,o.iD)("h4",p,(0,l.zw)(e.$store.state.headerTitle),1)):(0,o.kq)("",!0),e.$store.state.homepage?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("h4",g,(0,l.zw)(e.$store.state.headerTitle),1))]))])),e.$store.state.search?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",h,[!e.$store.state.search&&e.$store.state.homepage?((0,o.wg)(),(0,o.j4)(_,{key:0,onClick:x.searchGraphic,size:"2.5rem",class:"absolute right-4 p-2 text-gray-200 outline-none cursor-pointer hover:bg-sky-700 rounded-lg"},null,8,["onClick"])):(0,o.kq)("",!0)]))])]),(0,o._)("main",m,[(0,o._)("div",f,[(0,o.Wm)($)])]),(0,o._)("footer",y,[(0,o._)("button",{onClick:t[2]||(t[2]=(...e)=>x.myMenu&&x.myMenu(...e))},"Report Engine Developer Â©2022")])])}var w=s(8931),x=s(542),R=s(5839),k={name:"App",components:{UilArrowLeft:w.Z,UilFileSearchAlt:x.Z,UilMultiply:R.Z},data(){return{searchKey:""}},methods:{cancelSearch:function(){this.$store.commit("setSearch",!1),this.searchKey="",this.$store.commit("setSearchText","")},searchGraphic:function(){this.$store.commit("setSearch",!0)},backHomepage:function(){this.$store.commit("setHomepage",!0),this.$store.commit("setHeaderTitle","Graphics Engine"),this.$router.push("/userCodeAppPanel")},typingSearch:function(){this.$store.commit("setSearchText",this.searchKey)},myMenu:function(){console.log(this.$store.state.homepage)}}},T=s(89);const _=(0,T.Z)(k,[["render",b]]);var $=_,v=s(678);const D={class:"flex-1 mt-20 pt-5 pb-5 mb-10 pl-5 pr-3 bg-gray-100"},C=(0,o._)("span",{class:"absolute inset-x-0 bottom-0 h-2 bg-gradient-to-r from-green-300 via-sky-500 to-purple-600"},null,-1),L={class:"justify-between sm:flex"},I={class:"text-xl font-bold text-gray-900"},A={class:"mt-4 sm:pr-8"},M={class:"text-xs text-gray-500"},E={class:"flex flex-col mt-4 mb-1 items-end"},S=["onClick"];function U(e,t,s,a,n,i){const r=(0,o.up)("UilAngleDoubleRight");return(0,o.wg)(),(0,o.iD)("div",D,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.renderedGraphics,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:e.graphic,class:(0,l.C_)(["relative block py-5 px-6 overflow-hidden border border-gray-100 rounded-lg bg-white",t>0?"mt-5":""])},[C,(0,o._)("div",L,[(0,o._)("div",null,[(0,o._)("h5",I,(0,l.zw)(e.graphic),1)])]),(0,o._)("div",A,[(0,o._)("p",M,(0,l.zw)(e.description),1)]),(0,o._)("dl",E,[(0,o._)("div",{onClick:t=>i.gotoGraphicPage(e,!e.createStatus),class:(0,l.C_)(i.createGraphicClasses(!e.createStatus))},[(0,o._)("span",{class:(0,l.C_)(i.createGraphicTextClasses(!e.createStatus))},(0,l.zw)(e.createText),3),(0,o.Wm)(r,{size:"2.4rem",class:(0,l.C_)(i.createGraphicArrowClasses(!e.createStatus))},null,8,["class"])],10,S)])],2)))),128))])}s(6699);var F=s(7892),P=s(529),W={name:"GraphicList",components:{UilAngleDoubleRight:F.Z},data(){return{graphics:[{graphic:"Hubungan Panjang Berat",description:"Grafik yang digunakan untuk mensimulasikan hasil perhitungan hubungan panjang dan berat.",createText:"Buat Grafik",url:`/${(0,P.translateToURL)(this.$RED.HUBUNGAN_PANJANG_BERAT)}`,createStatus:!0},{graphic:"CPUE",description:"Grafik yang digunakan untuk menentukan hasil tangkapan per upaya.",createText:"Buat Grafik",url:`/${(0,P.translateToURL)(this.$RED.CPUE)}`,createStatus:!0},{graphic:"LPUE",description:"Grafik yang digunakan untuk menentukan hasil tangkapan per trip.",createText:"Buat Grafik",url:`/${(0,P.translateToURL)(this.$RED.LPUE)}`,createStatus:!0},{graphic:"Hasil Tangkapan Per Trip",description:"Grafik yang digunakan untuk menentukan hasil tangkapan per trip.",createText:"Buat Grafik",url:`/${(0,P.translateToURL)(this.$RED.HASIL_TANGKAPAN_PER_TRIP)}`,createStatus:!0},{graphic:"Produksi Ikan Per Alat Tangkap",description:"Grafik yang digunakan untuk menentukan hasil tangkapan per trip.",createText:"Buat Grafik",url:`/${(0,P.translateToURL)(this.$RED.PRODUKSI_IKAN_PER_ALAT_TANGKAP)}`,createStatus:!0},{graphic:"Produksi Ikan Per Sumber Daya",description:"Grafik yang digunakan untuk menentukan hasil tangkapan per trip.",createText:"Buat Grafik",url:`/${(0,P.translateToURL)(this.$RED.PRODUKSI_IKAN_PER_SUMBER_DAYA)}`,createStatus:!0},{graphic:"Struktur Ukuran Ikan Tertangkap",description:"Grafik yang digunakan untuk menentukan hasil tangkapan per trip.",createText:"Buat Grafik",url:`/${(0,P.translateToURL)(this.$RED.STRUKTUR_UKURAN_IKAN_TERTANGKAP)}`,createStatus:!0}]}},methods:{createGraphicClasses:function(e){return`group flex flex-row\n      items-center w-32\n      pl-3 pr-1 justify-between\n      border border-dashed border-gray-300 cursor-pointer rounded-lg\n      text-xs text-gray-500 hover:text-sky-500\n      hover:bg-sky-100 ${e?"cursor-not-allowed hover:bg-white w-28 border-0 items-end":""}\n      `},createGraphicTextClasses:function(e){return"text-gray-400 z-10 group-hover:text-sky-500 "+(e?"cursor-not-allowed group-hover:text-gray-400":"")},createGraphicArrowClasses:function(e){return"text-gray-300 ml-3 outline-none cursor-pointer -ml-1.5 group-hover:text-sky-300 "+(e?"hidden cursor-not-allowed group-hover:text-gray-300":"")},restoreGraphics:function(){},gotoGraphicPage:function(e,t){t||(this.restoreGraphics(),this.$store.commit("setHomepage",!1),this.$store.commit("setSearch",!1),this.$store.commit("setSearchText",""),this.$store.commit("setHeaderTitle",e.graphic),this.$router.push(e.url))}},computed:{renderedGraphics:function(){return this.graphics.filter((e=>e.graphic.toLowerCase().includes(this.$store.state.searchText.toLowerCase())))}}};const O=(0,T.Z)(W,[["render",U]]);var G=O,N={HOST:"https://3bbf-103-121-18-25.ap.ngrok.io",CPUE:"CPUE",HASIL_TANGKAPAN_PER_TRIP:"hasil_tangkapan_per_trip",HUBUNGAN_PANJANG_BERAT:"hubungan_panjang_berat",LPUE:"LPUE",PRODUKSI_IKAN_PER_ALAT_TANGKAP:"produksi_ikan_per_alat_tangkap",PRODUKSI_IKAN_PER_SUMBER_DAYA:"produksi_ikan_per_sumber_daya",STRUKTUR_UKURAN_IKAN_TERTANGKAP:"struktur_ukuran_ikan_tertangkap",ALL_WPP:"Seluruh WPP",ALL_RESOURCE:"Seluruh Sumber Daya",ALL_LOCATION:"Seluruh Lokasi",ALL_SPECIES:"Seluruh Spesies",API_FOR_ALL_SELECTED:"Ht7fvF1yGXuHtrm9nEMV",API_FOR_ZERO_SELECTED:["g8SDSrEtMO9XRt1btvQh"]};const z=e=>((0,o.dD)("data-v-4c8646c8"),e=e(),(0,o.Cn)(),e),V={class:"flex-1 mt-20 pt-1 pb-5 mb-10 bg-gray-100 h-full"},H={key:1,style:{"z-index":"10000"},class:"text-xs text-red-500 absolute bottom-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},Y={class:"max-w-screen-xl mx-auto"},Z={ref:"toTop",autocomplete:"off",class:"h-0 -mt-10"},j={class:"max-w-lg mx-auto"},K={class:"pl-6 pr-4 mb-0 space-y-5 rounded-lg"},q={class:"flex-col"},B={class:"flex flex-row text-gray-700 item-center justify-between pb-2"},Q={class:"flex flex-row text-gray-700 item-center"},J=z((()=>(0,o._)("span",{class:"text-base font-medium pl-1 pb-4 font-semibold text-sky-700"},"Parameter Pembuatan Grafik",-1))),X={class:"relative mt-1"},ee=["value"],te={class:"relative mt-1"},se=["onMousedown"],ae={class:"relative mt-1"},oe=["onMousedown"],le={class:"relative mt-1"},ne=["onMousedown"],ie={class:"relative mt-1"},re=["onMousedown"],ce={class:"flex space-x-3"},ue={class:"relative mt-1"},de={class:"relative mt-1"},pe={class:"flex space-x-3"},ge={class:"relative mt-1"},he={class:"relative mt-1"},me={class:"flex flex-col w-full pt-2"},fe=z((()=>(0,o._)("span",{class:"text-gray-200 ml-2"},"Hasilkan Grafik",-1))),ye=z((()=>(0,o._)("span",{class:"text-gray-500 ml-2"},"Sisipkan Ulang Gambar",-1)));function be(e,t,s,n,i,r){const c=(0,o.up)("loading"),u=(0,o.up)("UilDocumentLayoutLeft"),d=(0,o.up)("DatePicker"),p=(0,o.up)("UilFileInfoAlt"),g=(0,o.up)("UilTrashAlt"),h=(0,o.up)("Multiselect"),m=(0,o.up)("UilChartLine"),f=(0,o.up)("UilFileRedoAlt"),y=(0,o.up)("UilPicture"),b=(0,o.Q2)("tippy"),w=(0,o.Q2)("maska");return(0,o.wg)(),(0,o.iD)("div",V,[i.loading&&!i.insertingImage?((0,o.wg)(),(0,o.iD)("button",{key:0,style:{"z-index":"10000"},onClick:t[0]||(t[0]=(...e)=>r.cancel&&r.cancel(...e)),class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-3 py-2 text-xs mb-12 font-medium text-white bg-red-500 rounded-lg hover:bg-red-700 focus:ring"}," Batalkan ")):(0,o.kq)("",!0),i.insertingImage?((0,o.wg)(),(0,o.iD)("span",H," Menyisipkan gambar ... ")):(0,o.kq)("",!0),(0,o.Wm)(c,{active:i.loading,"onUpdate:active":t[1]||(t[1]=e=>i.loading=e),color:"#ff2020",width:25,height:25,opacity:.9,"is-full-page":!0},null,8,["active","opacity"]),(0,o._)("div",Y,[(0,o._)("input",Z,null,512),(0,o._)("div",j,[(0,o._)("div",K,[(0,o._)("div",q,[(0,o._)("div",B,[(0,o._)("div",Q,[J,(0,o.Wm)(u,{size:"1.25rem",class:"text-sky-700 outline-none ml-3"})])]),(0,o._)("label",{for:"date-range",class:(0,l.C_)(e.$style.form.label)},"Rentang Tanggal",2),(0,o._)("div",X,[(0,o.Wm)(d,{modelValue:i.selectedDateRange,"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDateRange=e),popover:{visibility:"click"},"max-date":new Date,onDayclick:r.onDateRangeChanged,"model-config":i.dateRangeConfig,locale:"id-ID",masks:i.dateRangeMasks,"is-range":""},{default:(0,o.w5)((({inputValue:s,inputEvents:a})=>[(0,o._)("input",(0,o.dG)({placeholder:"Masukan rentang tanggal",class:[e.$style.form.input,"bg-white w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400 focus-within:outline-sky-400"],value:r.formatDateRange(s)},(0,o.mx)(a.end),{onFocus:t[2]||(t[2]=(...e)=>r.onDateRangeOpened&&r.onDateRangeOpened(...e))}),null,16,ee)])),_:1},8,["modelValue","max-date","onDayclick","model-config","masks"])])]),(0,o._)("div",null,[(0,o._)("label",{for:"wpp",class:(0,l.C_)(e.$style.form.label)},"WPP",2),(0,o._)("div",te,[(0,o.Wm)(h,{placeholder:"Pilih wpp","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedWpp,"onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedWpp=e),ref:"wpp",onClick:r.wppFocused,mode:i.wppTagsMode?"tags":"multiple",multipleLabel:r.allWppSelected,classes:e.$style.multiselect.component(i.wppFetched,i.wppTagsMode),onChange:t[6]||(t[6]=e=>r.wppTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.wppFetched?-1:i.shouldWppRetrieve?0:-1,options:r.getWpp},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,se)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.wppTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedWpp)]]),i.wppTagsMode&&i.selectedWpp.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[4]||(t[4]=t=>e.$refs.wpp.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[(0,o._)("label",{for:"resource",class:(0,l.C_)(e.$style.form.label)},"Sumber Daya",2),(0,o._)("div",ae,[(0,o.Wm)(h,{placeholder:"Pilih sumber daya","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedResource,"onUpdate:modelValue":t[8]||(t[8]=e=>i.selectedResource=e),ref:"resource",onClick:r.resourceFocused,mode:i.resourceTagsMode?"tags":"multiple",multipleLabel:r.allResourceSelected,classes:e.$style.multiselect.component(i.resourceFetched,i.resourceTagsMode),onChange:t[9]||(t[9]=e=>r.resourceTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.resourceFetched?-1:i.shouldResourceRetrieve?0:-1,options:r.getResources},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,oe)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.resourceTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedResource)]]),i.resourceTagsMode&&i.selectedResource.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[7]||(t[7]=t=>e.$refs.resource.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[(0,o._)("label",{for:"location",class:(0,l.C_)(e.$style.form.label)},"Lokasi Pendaratan/Sampling",2),(0,o._)("div",le,[(0,o.Wm)(h,{placeholder:"Pilih lokasi","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedLocation,"onUpdate:modelValue":t[11]||(t[11]=e=>i.selectedLocation=e),ref:"location",onClick:r.locationFocused,mode:i.locationTagsMode?"tags":"multiple",multipleLabel:r.allLocationSelected,classes:e.$style.multiselect.component(i.resourceFetched,i.resourceTagsMode),onChange:t[12]||(t[12]=e=>r.locationTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.locationFetched?-1:i.shouldLocationRetrieve?0:-1,options:r.getLocations},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,ne)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.locationTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedLocation)]]),i.locationTagsMode&&i.selectedLocation.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[10]||(t[10]=t=>e.$refs.location.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[(0,o._)("label",{for:"spesies",class:(0,l.C_)(e.$style.form.label)},"Spesies",2),(0,o._)("div",ie,[(0,o.Wm)(h,{placeholder:"Pilih spesies","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedSpecies,"onUpdate:modelValue":t[14]||(t[14]=e=>i.selectedSpecies=e),ref:"species",onClick:r.speciesFocused,mode:i.speciesTagsMode?"tags":"multiple",multipleLabel:r.allSpeciesSelected,classes:e.$style.multiselect.component(i.speciesFetched,i.speciesTagsMode),onChange:t[15]||(t[15]=e=>r.speciesTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.speciesFetched?-1:i.shouldSpeciesRetrieve?0:-1,options:r.getSpecies},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,re)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.speciesTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedSpecies)]]),i.speciesTagsMode&&i.selectedSpecies.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[13]||(t[13]=t=>e.$refs.species.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",ce,[(0,o._)("div",null,[(0,o._)("label",{for:"min-length",class:(0,l.C_)(e.$style.form.label)},"Panjang Minimal",2),(0,o._)("div",ue,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>i.selectedMinLength=e),type:"text",autocomplete:"off",id:"min-length",class:(0,l.C_)([e.$style.form.input,"w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400"]),placeholder:"Minimal"},null,2),[[a.nr,i.selectedMinLength],[w,i.lengthMask]])])]),(0,o._)("div",null,[(0,o._)("label",{for:"max-length",class:(0,l.C_)(e.$style.form.label)},"Panjang Maksimal",2),(0,o._)("div",de,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>i.selectedMaxLength=e),type:"text",autocomplete:"off",id:"max-length",class:(0,l.C_)([e.$style.form.input,"w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400"]),placeholder:"Maksimal"},null,2),[[a.nr,i.selectedMaxLength],[w,i.lengthMask]])])])]),(0,o._)("div",pe,[(0,o._)("div",null,[(0,o._)("label",{for:"min-weight",class:(0,l.C_)(e.$style.form.label)},"Berat Minimal",2),(0,o._)("div",ge,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>i.selectedMinWeight=e),type:"text",autocomplete:"off",id:"min-weight",class:(0,l.C_)([e.$style.form.input,"w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400"]),placeholder:"Minimal"},null,2),[[a.nr,i.selectedMinWeight],[w,i.weightMask]])])]),(0,o._)("div",null,[(0,o._)("label",{for:"max-weight",class:(0,l.C_)(e.$style.form.label)},"Berat Maksimal",2),(0,o._)("div",he,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>i.selectedMaxWeight=e),type:"text",autocomplete:"off",id:"max-weight",class:(0,l.C_)([e.$style.form.input,"w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400"]),placeholder:"Maksimal"},null,2),[[a.nr,i.selectedMaxWeight],[w,i.weightMask]])])])]),(0,o._)("div",me,[(0,o._)("div",{class:(0,l.C_)(i.graphicImageName?"flex w-full pt-2.5 space-x-3":"flex w-full pt-2.5 space-x-3 mb-20")},[(0,o._)("button",{onClick:t[20]||(t[20]=(...e)=>r.generate&&r.generate(...e)),class:"w-full flex flex-row px-4 py-2.5 text-left text-xs font-medium text-white items-center bg-sky-600 rounded-lg hover:bg-sky-700 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(m,{size:"1.25rem",class:"text-gray-200"}),fe]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[21]||(t[21]=(...e)=>r.resetAll&&r.resetAll(...e)),class:"hover:text-gray-100 flex flex-col items-center w-12 py-2.5 py-3 text-xs font-medium text-white bg-gray-200 rounded-lg hover:bg-gray-300 border-gray-300 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(f,{size:"1.25rem",class:"text-gray-400"})])),[[b,{content:"Atur Ulang",placeholder:"bottom"}]])],2),i.graphicImageName?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[22]||(t[22]=(...e)=>r.insertImage&&r.insertImage(...e)),class:"text-left mb-20 mt-3.5 w-full border-dashed border-2 border-gray-200 px-4 py-2.5 text-xs font-medium focus:border-solid focus:border-sky-500 flex flex-row items-center bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200"},[(0,o.Wm)(y,{size:"1.25rem",class:"text-gray-400"}),ye])):(0,o.kq)("",!0)])])])])])}var we=s(3752),xe=s.n(we),Re=s(9810),ke=s(4870),Te=s(3045),_e=s(4170),$e=s(9122),ve=s(4635),De=s(8176),Ce=s(4926),Le=s(9726),Ie={name:"HubunganPanjangBerat",inject:["insertGraphicImage"],components:{Loading:xe(),Multiselect:Re.Z,DatePicker:Te.Mt,UilFileRedoAlt:_e.Z,UilFileInfoAlt:$e.Z,UilChartLine:ve.Z,UilDocumentLayoutLeft:De.Z,UilPicture:Ce.Z,UilTrashAlt:Le.Z},directives:{},data(){return{graphicImageName:"",tryingAt:0,loading:!1,canceled:!1,insertingImage:!1,lengthMask:P.lengthMasker,weightMask:P.weightMasker,selectedDateRange:this.resetRangeDate(),dateRangeOpened:!1,dateRangeDayClicked:0,dateRangeMasks:{title:"MMMM YYYY",input:"DD MMMM YYYY"},dateRangeConfig:{type:"string",mask:"YYYY-MM-DD"},selectedWpp:[],shouldWppRetrieve:!0,wppFetched:!1,wppTotal:0,wppTagsMode:!0,selectedResource:[],shouldResourceRetrieve:!1,resourceFetched:!1,resourceTotal:0,resourceTagsMode:!0,selectedLocation:[],shouldLocationRetrieve:!1,locationFetched:!1,locationTotal:0,locationTagsMode:!0,selectedSpecies:[],shouldSpeciesRetrieve:!1,speciesFetched:!1,speciesTotal:0,speciesTagsMode:!0,selectedMinLength:"",selectedMaxLength:"",selectedMinWeight:"",selectedMaxWeight:""}},mounted(){this.scrollToTop()},methods:{formatDateRange:function(e){return e.start&&e.start?`${e.start} - ${e.end}`:""},resetRangeDate:function(){return{start:new Date("2019-01-01"),end:new Date("2019-12-31")}},onDateRangeOpened:function(){this.dateRangeOpened=!0,this.dateRangeDayClicked=0},onDateRangeChanged:function(){this.dateRangeDayClicked++,this.dateRangeDayClicked%2===0&&this.resetWpp()},scrollToTop(){this.$refs.toTop.focus()},resetAll:function(){this.graphicImageName="",this.selectedDateRange=(0,ke.iH)(this.resetRangeDate()),this.resetWpp(),this.selectedMinLength="",this.selectedMaxLength="",this.selectedMinWeight="",this.selectedMaxWeight="",this.scrollToTop()},wppValue(){const e=(0,ke.IU)(this.selectedWpp);return e.length>0&&e.length===this.wppTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allWppSelected:function(){return`${this.$RED.ALL_WPP}&nbsp;&nbsp;(${this.wppTotal})`},wppTagCreated:function(e){this.wppTagsMode=!(this.wppTotal>1&&e.length===this.wppTotal),this.onWppChanged()},resetWpp:function(){this.shouldWppRetrieve=!0,this.wppFetched=!1,(0,ke.IU)(this.selectedWpp).length>0&&(this.$refs.wpp.clear(),this.$refs.wpp.clearSearch()),this.wppTotal=0,this.resetResource()},wppFocused:function(){!this.wppFetched&&this.shouldWppRetrieve&&this.$refs.wpp.refreshOptions()},getWpp:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.HUBUNGAN_PANJANG_BERAT}/wpp`,this.formForAsync());return this.wppTotal=e&&e.length>0?e[0]["options"].length:0,this.wppFetched=!0,e},onWppChanged:function(){this.resetResource()},resourceValue(){const e=(0,ke.IU)(this.selectedResource);return e.length>0&&e.length===this.resourceTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allResourceSelected:function(){return`${this.$RED.ALL_RESOURCE}&nbsp;&nbsp;(${this.resourceTotal})`},resourceTagCreated:function(e){this.resourceTagsMode=!(this.resourceTotal>1&&e.length===this.resourceTotal),this.onResourceChanged()},resetResource:function(){this.shouldResourceRetrieve=!0,this.resourceFetched=!1,(0,ke.IU)(this.selectedResource).length>0&&this.$refs.resource.clear(),this.resourceTotal=0,this.resetLocation()},resourceFocused:function(){!this.resourceFetched&&this.shouldResourceRetrieve&&this.$refs.resource.refreshOptions()},getResources:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.HUBUNGAN_PANJANG_BERAT}/resources`,this.formForAsync());return this.resourceTotal=e.length>0?e[0]["options"].length:0,this.resourceFetched=!0,e},onResourceChanged:function(){this.resetLocation()},locationValue(){const e=(0,ke.IU)(this.selectedLocation);return e.length>0&&e.length===this.locationTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allLocationSelected:function(){return`${this.$RED.ALL_LOCATION}&nbsp;&nbsp;(${this.locationTotal})`},locationTagCreated:function(e){this.locationTagsMode=!(this.locationTotal>1&&e.length===this.locationTotal),this.onLocationChanged()},resetLocation:function(){this.shouldLocationRetrieve=!0,this.locationFetched=!1,(0,ke.IU)(this.selectedLocation).length>0&&this.$refs.location.clear(),this.locationTotal=0,this.resetSpecies()},locationFocused:function(){!this.locationFetched&&this.shouldLocationRetrieve&&this.$refs.location.refreshOptions()},getLocations:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.HUBUNGAN_PANJANG_BERAT}/locations`,this.formForAsync());return this.locationTotal=e.length>0?e[0]["options"].length:0,this.locationFetched=!0,e},onLocationChanged:function(){this.resetSpecies()},speciesValue(){const e=(0,ke.IU)(this.selectedSpecies);return e.length>0&&e.length===this.speciesTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allSpeciesSelected:function(){return`${this.$RED.ALL_SPECIES}&nbsp;&nbsp;(${this.speciesTotal})`},speciesTagCreated:function(e){this.speciesTagsMode=!(this.speciesTotal>1&&e.length===this.speciesTotal)},resetSpecies:function(){this.shouldSpeciesRetrieve=!0,this.speciesFetched=!1,(0,ke.IU)(this.selectedSpecies).length>0&&this.$refs.species.clear(),this.speciesTotal=0},speciesFocused:function(){!this.speciesFetched&&this.shouldSpeciesRetrieve&&this.$refs.species.refreshOptions()},getSpecies:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.HUBUNGAN_PANJANG_BERAT}/species`,this.formForAsync());return this.speciesTotal=e.length>0?e[0]["options"].length:0,this.speciesFetched=!0,e},tippyOnAllSelected:function(e){const t=(0,ke.IU)(e),s=t.reduce(((e,s,a)=>`${e} ${s}${a<t.length-1?" <br>":""}`),"");return{content:s,placement:"left"}},formForAsync:function(){const{start:e,end:t,wpp:s,resource:a,location:o,species:l}=this.form();return{start:e,end:t,wpp:0===s.length?this.$RED.API_FOR_ZERO_SELECTED:s,resource:0===a.length?this.$RED.API_FOR_ZERO_SELECTED:a,location:0===o.length?this.$RED.API_FOR_ZERO_SELECTED:o,species:0===a.length?this.$RED.API_FOR_ZERO_SELECTED:l}},form:function(){const{start:e,end:t}=this.selectedDateRange?(0,ke.IU)(this.selectedDateRange):this.resetRangeDate();return{start:e,end:t,wpp:this.wppValue(),resource:this.resourceValue(),location:this.locationValue(),species:this.speciesValue(),minLength:(0,P.normalizeNumber)(this.selectedMinLength),maxLength:(0,P.normalizeNumber)(this.selectedMaxLength)||1e6,minWeight:(0,P.normalizeNumber)(this.selectedMinWeight),maxWeight:(0,P.normalizeNumber)(this.selectedMaxWeight)||1e6}},pass:function(e){const{start:t,end:s,wpp:a,resource:o,location:l,species:n}=e;return null===t||null===s?"Inputkan Rentang tanggal":!a||a.length<=0?(this.wppFocused(),this.$refs.wpp.$el.focus(),"Inputkan WPP"):!o||o.length<=0?(this.resourceFocused(),this.$refs.resource.$el.focus(),"Inputkan Sumber Daya"):!l||l.length<=0?(this.locationFocused(),this.$refs.location.$el.focus(),"Inputkan Lokasi"):!n||n.length<=0?(this.speciesFocused(),this.$refs.species.$el.focus(),"Inputkan Species"):void 0},insertImage:function(e=!1){e&&(this.insertingImage=!0,this.loading=!0),this.insertGraphicImage(this.graphicImageName,(()=>{this.successfullyInsertedImage()}),(()=>{this.failedToInsertImage()}))},successfullyGenerated({status:e,graphicImageName:t},s){s!==this.tryingAt||this.canceled||("SUCCESS"===e?(this.graphicImageName=t||"",this.insertingImage=!0,this.insertImage()):this.failedToGenerate())},failedToGenerate:function(){this.graphicImageName="",this.loading=!1,this.$error("Grafik tidak berhasil digenerate.")},generate:async function(){const e=this.form(),t=this.pass(e);if(t)return void this.$error(t);this.tryingAt++;const s=this.tryingAt;this.graphicImageName="",this.loading=!0,this.canceled=!1,this.insertingImage=!1,this.$store.commit("setSearchText",""),this.axios.post(`${this.$RED.HOST}/${this.$RED.HUBUNGAN_PANJANG_BERAT}`,e).then((({data:e})=>{this.successfullyGenerated(e,s)})).catch((()=>{s===this.tryingAt&&this.failedToGenerate()}))},cancel:function(){this.loading=!1,this.canceled=!0,this.$error("Dibatalkan oleh pengguna")},successfullyInsertedImage:function(){this.insertingImage=!1,this.loading=!1,this.$success("Grafik berhasil disisipkan")},failedToInsertImage:function(){this.insertingImage=!1,this.loading=!1,this.$error("Grafik gagal disisipkan")},multiselectClasses:function(e,t){return{clearIcon:"",multipleLabel:"py-1 relative z-1 flex text-start h-full  left-1 top-0 pointer-events-none bg-transparent",container:"border-2 border-solid border-gray-100  focus-within:border-sky-400 relative mx-auto w-full flex items-center justify-start box-border cursor-pointer bg-white rounded-lg py-2 pl-2 pr-0 text-xs shadow-sm ",dropdown:e?"max-h-72 absolute -left-px -right-px -bottom-1 pb-1 transform translate-y-full border-2 rounded-lg border-gray-200 -mt-px overflow-y-auto z-40 bg-white flex flex-col rounded-lg":"hidden",dropdownTop:"-translate-y-full top-px bottom-auto rounded-lg",dropdownHidden:"hidden",caret:"px-3 bg-multiselect-caret bg-center bg-no-repeat w-2.5 h-4 py-px box-content mr-3.5 relative opacity-40 flex-shrink-0 flex-grow-0 transition-transform transform pointer-events-none rounded-lg ",tagsSearch:t?"absolute outline-none inset-0 border-1 appearance-none  text-xs box-border w-full -ml-1.5":"absolute outline-none inset-0 border-1 focus:ring-0 appearance-none text-xs box-border w-full rounded-lg ml-3",noOptions:"py-2 px-3 text-red-500 bg-white text-left",noResults:"py-2 px-3 text-red-500 bg-white text-left",tagsSearchWrapper:"inline-block relative mx-1 mb-1 flex-grow flex-shrink h-full outline-blue-400 rounded-lg",tagSearch:"w-full absolute inset-0 outline-blue-400 appearance-none box-border border-0 text-xs font-sans bg-white rounded-lg ",groupLabel:"flex text-xs box-border items-center justify-start text-left py-3 px-3 font-medium bg-green-50 text-green-700 leading-normal cursor-pointer",groupLabelPointed:"bg-green-100 text-green-700 ",groupLabelSelected:"bg-green-50 text-green-700 ",groupLabelSelectedPointed:"bg-green-100 hover:bg-green-50  text-green-700 ",search:"w-full absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-0 text-xs bg-white rounded-lg  pl-3.5"}}}};const Ae=(0,T.Z)(Ie,[["render",be],["__scopeId","data-v-4c8646c8"]]);var Me=Ae;const Ee=e=>((0,o.dD)("data-v-7bb64436"),e=e(),(0,o.Cn)(),e),Se={ref:"sectioncontainer",class:"flex-1 mt-20 pt-1 pb-5 mb-10 bg-gray-100 h-full"},Ue={key:1,style:{"z-index":"10000"},class:"text-xs text-red-500 absolute bottom-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},Fe={class:"max-w-screen-xl mx-auto"},Pe={ref:"toTop",autocomplete:"off",class:"h-0 -mt-10"},We={class:"max-w-lg mx-auto"},Oe={class:"pl-6 pr-4 mb-0 space-y-5 rounded-lg"},Ge={class:"flex-col"},Ne={class:"flex flex-row text-gray-700 item-center justify-between pb-2"},ze={class:"flex flex-row text-gray-700 item-center"},Ve=Ee((()=>(0,o._)("span",{class:"text-base font-medium pl-1 pb-4 font-semibold text-sky-700"},"Parameter Pembuatan Grafik",-1))),He=Ee((()=>(0,o._)("label",{for:"date-range",class:"text-xs font-medium pl-1 text-gray-600"},"Rentang Tanggal",-1))),Ye={class:"relative mt-1"},Ze=["value"],je=Ee((()=>(0,o._)("label",{for:"wpp",class:"text-xs font-medium pl-1 text-gray-600"},"WPP",-1))),Ke={class:"relative mt-1"},qe=["onMousedown"],Be=Ee((()=>(0,o._)("label",{for:"resource",class:"text-xs font-medium pl-1 text-gray-600"},"Sumber Daya",-1))),Qe={class:"relative mt-1"},Je=["onMousedown"],Xe=Ee((()=>(0,o._)("label",{for:"location",class:"text-xs font-medium pl-1 text-gray-600"},"Lokasi Pendaratan/Sampling",-1))),et={class:"relative mt-1"},tt=["onMousedown"],st={class:"flex flex-col w-full pt-2"},at=Ee((()=>(0,o._)("span",{class:"text-gray-200 ml-2"},"Hasilkan Grafik",-1))),ot=Ee((()=>(0,o._)("span",{class:"text-gray-500 ml-2"},"Sisipkan Ulang Gambar",-1)));function lt(e,t,s,n,i,r){const c=(0,o.up)("loading"),u=(0,o.up)("UilDocumentLayoutLeft"),d=(0,o.up)("DatePicker"),p=(0,o.up)("UilFileInfoAlt"),g=(0,o.up)("UilTrashAlt"),h=(0,o.up)("Multiselect"),m=(0,o.up)("UilChartLine"),f=(0,o.up)("UilFileRedoAlt"),y=(0,o.up)("UilPicture"),b=(0,o.Q2)("tippy");return(0,o.wg)(),(0,o.iD)("div",Se,[i.loading&&!i.insertingImage?((0,o.wg)(),(0,o.iD)("button",{key:0,style:{"z-index":"10000"},onClick:t[0]||(t[0]=(...e)=>r.cancel&&r.cancel(...e)),class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-3 py-2 text-xs mb-12 font-medium text-white bg-red-500 rounded-lg hover:bg-red-700 focus:ring"}," Batalkan ")):(0,o.kq)("",!0),i.insertingImage?((0,o.wg)(),(0,o.iD)("span",Ue," Menyisipkan gambar ... ")):(0,o.kq)("",!0),(0,o.Wm)(c,{active:i.loading,"onUpdate:active":t[1]||(t[1]=e=>i.loading=e),color:"#ff2020",width:25,height:25,opacity:.9,"is-full-page":!0},null,8,["active","opacity"]),(0,o._)("div",Fe,[(0,o._)("input",Pe,null,512),(0,o._)("div",We,[(0,o._)("div",Oe,[(0,o._)("div",Ge,[(0,o._)("div",Ne,[(0,o._)("div",ze,[Ve,(0,o.Wm)(u,{size:"1.25rem",class:"text-sky-700 outline-none ml-3"})])]),He,(0,o._)("div",Ye,[(0,o.Wm)(d,{modelValue:i.selectedDateRange,"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDateRange=e),popover:{visibility:"click"},"max-date":new Date,onDayclick:r.onDateRangeChanged,"model-config":i.dateRangeConfig,locale:"id-ID",masks:i.dateRangeMasks,"is-range":""},{default:(0,o.w5)((({inputValue:s,inputEvents:a})=>[(0,o._)("input",(0,o.dG)({placeholder:"Masukan rentang tanggal",class:[e.$style.form.input,"bg-white w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400 focus-within:outline-sky-400"],value:r.formatDateRange(s)},(0,o.mx)(a.end),{onFocus:t[2]||(t[2]=(...e)=>r.onDateRangeOpened&&r.onDateRangeOpened(...e))}),null,16,Ze)])),_:1},8,["modelValue","max-date","onDayclick","model-config","masks"])])]),(0,o._)("div",null,[je,(0,o._)("div",Ke,[(0,o.Wm)(h,{placeholder:"Pilih wpp","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedWpp,"onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedWpp=e),ref:"wpp",onClick:r.wppFocused,mode:i.wppTagsMode?"tags":"multiple",multipleLabel:r.allWppSelected,classes:e.$style.multiselect.component(i.wppFetched,i.wppTagsMode),onChange:t[6]||(t[6]=e=>r.wppTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.wppFetched?-1:i.shouldWppRetrieve?0:-1,options:r.getWpp},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,qe)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.wppTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedWpp)]]),i.wppTagsMode&&i.selectedWpp.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[4]||(t[4]=t=>e.$refs.wpp.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[Be,(0,o._)("div",Qe,[(0,o.Wm)(h,{placeholder:"Pilih sumber daya","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedResource,"onUpdate:modelValue":t[8]||(t[8]=e=>i.selectedResource=e),ref:"resource",onClick:r.resourceFocused,mode:i.resourceTagsMode?"tags":"multiple",multipleLabel:r.allResourceSelected,classes:e.$style.multiselect.component(i.resourceFetched,i.resourceTagsMode),onChange:t[9]||(t[9]=e=>r.resourceTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.resourceFetched?-1:i.shouldResourceRetrieve?0:-1,options:r.getResources},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,Je)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.resourceTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedResource)]]),i.resourceTagsMode&&i.selectedResource.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[7]||(t[7]=t=>e.$refs.resource.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[Xe,(0,o._)("div",et,[(0,o.Wm)(h,{placeholder:"Pilih lokasi","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedLocation,"onUpdate:modelValue":t[11]||(t[11]=e=>i.selectedLocation=e),ref:"location",onClick:r.locationFocused,mode:i.locationTagsMode?"tags":"multiple",multipleLabel:r.allLocationSelected,classes:e.$style.multiselect.component(i.locationFetched,i.locationTagsMode),onChange:t[12]||(t[12]=e=>r.locationTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.locationFetched?-1:i.shouldLocationRetrieve?0:-1,options:r.getLocations},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,tt)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.locationTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedLocation)]]),i.locationTagsMode&&i.selectedLocation.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[10]||(t[10]=t=>e.$refs.location.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",st,[(0,o._)("div",{class:(0,l.C_)(i.graphicImageName?"flex w-full pt-2.5 space-x-3":"flex w-full pt-2.5 space-x-3 mb-20")},[(0,o._)("button",{onClick:t[13]||(t[13]=(...e)=>r.generate&&r.generate(...e)),class:"w-full flex flex-row px-4 py-2.5 text-left text-xs font-medium text-white items-center bg-sky-600 rounded-lg hover:bg-sky-700 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(m,{size:"1.25rem",class:"text-gray-200"}),at]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[14]||(t[14]=(...e)=>r.resetAll&&r.resetAll(...e)),class:"hover:text-gray-100 flex flex-col items-center w-12 py-2.5 py-3 text-xs font-medium text-white bg-gray-200 rounded-lg hover:bg-gray-300 border-gray-300 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(f,{size:"1.25rem",class:"text-gray-400"})])),[[b,{content:"Atur Ulang",placeholder:"bottom"}]])],2),i.graphicImageName?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[15]||(t[15]=(...e)=>r.insertImage&&r.insertImage(...e)),class:"text-left mb-20 mt-3.5 w-full border-dashed border-2 border-gray-200 px-4 py-2.5 text-xs font-medium focus:border-solid focus:border-sky-500 flex flex-row items-center bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200"},[(0,o.Wm)(y,{size:"1.25rem",class:"text-gray-400"}),ot])):(0,o.kq)("",!0)])])])])],512)}var nt={name:"Cpue",inject:["insertGraphicImage"],components:{Loading:xe(),Multiselect:Re.Z,DatePicker:Te.Mt,UilFileRedoAlt:_e.Z,UilFileInfoAlt:$e.Z,UilChartLine:ve.Z,UilDocumentLayoutLeft:De.Z,UilPicture:Ce.Z,UilTrashAlt:Le.Z},directives:{},mounted(){this.scrollToTop()},data(){return{graphicImageName:"",tryingAt:0,loading:!1,canceled:!1,insertingImage:!1,lengthMask:P.lengthMasker,weightMask:P.weightMasker,selectedDateRange:this.resetRangeDate(),dateRangeOpened:!1,dateRangeDayClicked:0,dateRangeMasks:{title:"MMMM YYYY",input:"DD MMMM YYYY"},dateRangeConfig:{type:"string",mask:"YYYY-MM-DD"},selectedWpp:[],shouldWppRetrieve:!0,wppFetched:!1,wppTotal:0,wppTagsMode:!0,selectedResource:[],shouldResourceRetrieve:!1,resourceFetched:!1,resourceTotal:0,resourceTagsMode:!0,selectedLocation:[],shouldLocationRetrieve:!1,locationFetched:!1,locationTotal:0,locationTagsMode:!0}},methods:{formatDateRange:function(e){return e.start&&e.start?`${e.start} - ${e.end}`:""},resetRangeDate:function(){return{start:new Date("2019-01-01"),end:new Date("2019-12-31")}},onDateRangeOpened:function(){this.dateRangeOpened=!0,this.dateRangeDayClicked=0},onDateRangeChanged:function(){this.dateRangeDayClicked++,this.dateRangeDayClicked%2===0&&this.resetWpp()},scrollToTop(){this.$refs.toTop.focus()},resetAll:function(){this.graphicImageName="",this.selectedDateRange=(0,ke.iH)(this.resetRangeDate()),this.resetWpp(),this.scrollToTop()},wppValue(){const e=(0,ke.IU)(this.selectedWpp);return e.length>0&&e.length===this.wppTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allWppSelected:function(){return`${this.$RED.ALL_WPP}&nbsp;&nbsp;(${this.wppTotal})`},wppTagCreated:function(e){this.wppTagsMode=!(this.wppTotal>1&&e.length===this.wppTotal),this.onWppChanged()},resetWpp:function(){this.shouldWppRetrieve=!0,this.wppFetched=!1,(0,ke.IU)(this.selectedWpp).length>0&&(this.$refs.wpp.clear(),this.$refs.wpp.clearSearch()),this.wppTotal=0,this.resetResource()},wppFocused:function(){!this.wppFetched&&this.shouldWppRetrieve&&this.$refs.wpp.refreshOptions()},getWpp:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.CPUE}/wpp`,this.formForAsync());return this.wppTotal=e&&e.length>0?e[0]["options"].length:0,this.wppFetched=!0,e},onWppChanged:function(){this.resetResource()},resourceValue(){const e=(0,ke.IU)(this.selectedResource);return e.length>0&&e.length===this.resourceTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allResourceSelected:function(){return`${this.$RED.ALL_RESOURCE}&nbsp;&nbsp;(${this.resourceTotal})`},resourceTagCreated:function(e){this.resourceTagsMode=!(this.resourceTotal>1&&e.length===this.resourceTotal),this.onResourceChanged()},resetResource:function(){this.shouldResourceRetrieve=!0,this.resourceFetched=!1,(0,ke.IU)(this.selectedResource).length>0&&this.$refs.resource.clear(),this.resourceTotal=0,this.resetLocation()},resourceFocused:function(){!this.resourceFetched&&this.shouldResourceRetrieve&&this.$refs.resource.refreshOptions()},getResources:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.CPUE}/resources`,this.formForAsync());return this.resourceTotal=e.length>0?e[0]["options"].length:0,this.resourceFetched=!0,e},onResourceChanged:function(){this.resetLocation()},locationValue(){const e=(0,ke.IU)(this.selectedLocation);return e.length>0&&e.length===this.locationTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allLocationSelected:function(){return`${this.$RED.ALL_LOCATION}&nbsp;&nbsp;(${this.locationTotal})`},locationTagCreated:function(e){this.locationTagsMode=!(this.locationTotal>1&&e.length===this.locationTotal),this.onLocationChanged()},resetLocation:function(){this.shouldLocationRetrieve=!0,this.locationFetched=!1,(0,ke.IU)(this.selectedLocation).length>0&&this.$refs.location.clear(),this.locationTotal=0},locationFocused:function(){!this.locationFetched&&this.shouldLocationRetrieve&&this.$refs.location.refreshOptions()},getLocations:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.CPUE}/locations`,this.formForAsync());return this.locationTotal=e.length>0?e[0]["options"].length:0,this.locationFetched=!0,e},onLocationChanged:function(){},tippyOnAllSelected:function(e){const t=(0,ke.IU)(e),s=t.reduce(((e,s,a)=>`${e} ${s}${a<t.length-1?" <br>":""}`),"");return{content:s,placement:"left"}},formForAsync:function(){const{start:e,end:t,wpp:s,resource:a,location:o}=this.form();return{start:e,end:t,wpp:0===s.length?this.$RED.API_FOR_ZERO_SELECTED:s,resource:0===a.length?this.$RED.API_FOR_ZERO_SELECTED:a,location:0===o.length?this.$RED.API_FOR_ZERO_SELECTED:o}},form:function(){const{start:e,end:t}=this.selectedDateRange?(0,ke.IU)(this.selectedDateRange):this.resetRangeDate();return{start:e,end:t,wpp:this.wppValue(),resource:this.resourceValue(),location:this.locationValue()}},pass:function(e){const{start:t,end:s,wpp:a,resource:o,location:l}=e;return null===t||null===s?"Inputkan Rentang tanggal":!a||a.length<=0?(this.wppFocused(),this.$refs.wpp.$el.focus(),"Inputkan WPP"):!o||o.length<=0?(this.resourceFocused(),this.$refs.resource.$el.focus(),"Inputkan Sumber Daya"):!l||l.length<=0?(this.locationFocused(),this.$refs.location.$el.focus(),"Inputkan Lokasi"):void 0},insertImage:function(e=!1){e&&(this.insertingImage=!0,this.loading=!0),this.insertGraphicImage(this.graphicImageName,(()=>{this.successfullyInsertedImage()}),(()=>{this.failedToInsertImage()}))},successfullyGenerated({status:e,graphicImageName:t},s){s!==this.tryingAt||this.canceled||("SUCCESS"===e?(this.graphicImageName=t||"",this.insertingImage=!0,this.insertImage()):this.failedToGenerate())},failedToGenerate:function(){this.graphicImageName="",this.loading=!1,this.$error("Grafik tidak berhasil digenerate.")},generate:async function(){const e=this.form(),t=this.pass(e);if(t)return void this.$error(t);this.tryingAt++;const s=this.tryingAt;this.graphicImageName="",this.loading=!0,this.canceled=!1,this.insertingImage=!1,this.$store.commit("setSearchText",""),this.axios.post(`${this.$RED.HOST}/${this.$RED.CPUE}`,e).then((({data:e})=>{this.successfullyGenerated(e,s)})).catch((()=>{s===this.tryingAt&&this.failedToGenerate()}))},cancel:function(){this.loading=!1,this.canceled=!0,this.$error("Dibatalkan oleh pengguna")},successfullyInsertedImage:function(){this.insertingImage=!1,this.loading=!1,this.$success("Grafik berhasil disisipkan")},failedToInsertImage:function(){this.insertingImage=!1,this.loading=!1,this.$error("Grafik gagal disisipkan")}}};const it=(0,T.Z)(nt,[["render",lt],["__scopeId","data-v-7bb64436"]]);var rt=it;const ct=e=>((0,o.dD)("data-v-044578c8"),e=e(),(0,o.Cn)(),e),ut={ref:"sectioncontainer",class:"flex-1 mt-20 pt-1 pb-5 mb-10 bg-gray-100 h-full"},dt={key:1,style:{"z-index":"10000"},class:"text-xs text-red-500 absolute bottom-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},pt={class:"max-w-screen-xl mx-auto"},gt={ref:"toTop",autocomplete:"off",class:"h-0 -mt-10"},ht={class:"max-w-lg mx-auto"},mt={class:"pl-6 pr-4 mb-0 space-y-5 rounded-lg"},ft={class:"flex-col"},yt={class:"flex flex-row text-gray-700 item-center justify-between pb-2"},bt={class:"flex flex-row text-gray-700 item-center"},wt=ct((()=>(0,o._)("span",{class:"text-base font-medium pl-1 pb-4 font-semibold text-sky-700"},"Parameter Pembuatan Grafik",-1))),xt=ct((()=>(0,o._)("label",{for:"date-range",class:"text-xs font-medium pl-1 text-gray-600"},"Rentang Tanggal",-1))),Rt={class:"relative mt-1"},kt=["value"],Tt=ct((()=>(0,o._)("label",{for:"wpp",class:"text-xs font-medium pl-1 text-gray-600"},"WPP",-1))),_t={class:"relative mt-1"},$t=["onMousedown"],vt=ct((()=>(0,o._)("label",{for:"resource",class:"text-xs font-medium pl-1 text-gray-600"},"Sumber Daya",-1))),Dt={class:"relative mt-1"},Ct=["onMousedown"],Lt=ct((()=>(0,o._)("label",{for:"location",class:"text-xs font-medium pl-1 text-gray-600"},"Lokasi Pendaratan/Sampling",-1))),It={class:"relative mt-1"},At=["onMousedown"],Mt={class:"flex flex-col w-full pt-2"},Et=ct((()=>(0,o._)("span",{class:"text-gray-200 ml-2"},"Hasilkan Grafik",-1))),St=ct((()=>(0,o._)("span",{class:"text-gray-500 ml-2"},"Sisipkan Ulang Gambar",-1)));function Ut(e,t,s,n,i,r){const c=(0,o.up)("loading"),u=(0,o.up)("UilDocumentLayoutLeft"),d=(0,o.up)("DatePicker"),p=(0,o.up)("UilFileInfoAlt"),g=(0,o.up)("UilTrashAlt"),h=(0,o.up)("Multiselect"),m=(0,o.up)("UilChartLine"),f=(0,o.up)("UilFileRedoAlt"),y=(0,o.up)("UilPicture"),b=(0,o.Q2)("tippy");return(0,o.wg)(),(0,o.iD)("div",ut,[i.loading&&!i.insertingImage?((0,o.wg)(),(0,o.iD)("button",{key:0,style:{"z-index":"10000"},onClick:t[0]||(t[0]=(...e)=>r.cancel&&r.cancel(...e)),class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-3 py-2 text-xs mb-12 font-medium text-white bg-red-500 rounded-lg hover:bg-red-700 focus:ring"}," Batalkan ")):(0,o.kq)("",!0),i.insertingImage?((0,o.wg)(),(0,o.iD)("span",dt," Menyisipkan gambar ... ")):(0,o.kq)("",!0),(0,o.Wm)(c,{active:i.loading,"onUpdate:active":t[1]||(t[1]=e=>i.loading=e),color:"#ff2020",width:25,height:25,opacity:.9,"is-full-page":!0},null,8,["active","opacity"]),(0,o._)("div",pt,[(0,o._)("input",gt,null,512),(0,o._)("div",ht,[(0,o._)("div",mt,[(0,o._)("div",ft,[(0,o._)("div",yt,[(0,o._)("div",bt,[wt,(0,o.Wm)(u,{size:"1.25rem",class:"text-sky-700 outline-none ml-3"})])]),xt,(0,o._)("div",Rt,[(0,o.Wm)(d,{modelValue:i.selectedDateRange,"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDateRange=e),popover:{visibility:"click"},"max-date":new Date,onDayclick:r.onDateRangeChanged,"model-config":i.dateRangeConfig,locale:"id-ID",masks:i.dateRangeMasks,"is-range":""},{default:(0,o.w5)((({inputValue:s,inputEvents:a})=>[(0,o._)("input",(0,o.dG)({placeholder:"Masukan rentang tanggal",class:[e.$style.form.input,"bg-white w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400 focus-within:outline-sky-400"],value:r.formatDateRange(s)},(0,o.mx)(a.end),{onFocus:t[2]||(t[2]=(...e)=>r.onDateRangeOpened&&r.onDateRangeOpened(...e))}),null,16,kt)])),_:1},8,["modelValue","max-date","onDayclick","model-config","masks"])])]),(0,o._)("div",null,[Tt,(0,o._)("div",_t,[(0,o.Wm)(h,{placeholder:"Pilih wpp","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedWpp,"onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedWpp=e),ref:"wpp",onClick:r.wppFocused,mode:i.wppTagsMode?"tags":"multiple",multipleLabel:r.allWppSelected,classes:e.$style.multiselect.component(i.wppFetched,i.wppTagsMode),onChange:t[6]||(t[6]=e=>r.wppTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.wppFetched?-1:i.shouldWppRetrieve?0:-1,options:r.getWpp},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,$t)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.wppTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedWpp)]]),i.wppTagsMode&&i.selectedWpp.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[4]||(t[4]=t=>e.$refs.wpp.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[vt,(0,o._)("div",Dt,[(0,o.Wm)(h,{placeholder:"Pilih sumber daya","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedResource,"onUpdate:modelValue":t[8]||(t[8]=e=>i.selectedResource=e),ref:"resource",onClick:r.resourceFocused,mode:i.resourceTagsMode?"tags":"multiple",multipleLabel:r.allResourceSelected,classes:e.$style.multiselect.component(i.resourceFetched,i.resourceTagsMode),onChange:t[9]||(t[9]=e=>r.resourceTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.resourceFetched?-1:i.shouldResourceRetrieve?0:-1,options:r.getResources},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,Ct)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.resourceTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedResource)]]),i.resourceTagsMode&&i.selectedResource.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[7]||(t[7]=t=>e.$refs.resource.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[Lt,(0,o._)("div",It,[(0,o.Wm)(h,{placeholder:"Pilih lokasi","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedLocation,"onUpdate:modelValue":t[11]||(t[11]=e=>i.selectedLocation=e),ref:"location",onClick:r.locationFocused,mode:i.locationTagsMode?"tags":"multiple",multipleLabel:r.allLocationSelected,classes:e.$style.multiselect.component(i.locationFetched,i.locationTagsMode),onChange:t[12]||(t[12]=e=>r.locationTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.locationFetched?-1:i.shouldLocationRetrieve?0:-1,options:r.getLocations},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,At)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.locationTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedLocation)]]),i.locationTagsMode&&i.selectedLocation.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[10]||(t[10]=t=>e.$refs.location.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",Mt,[(0,o._)("div",{class:(0,l.C_)(i.graphicImageName?"flex w-full pt-2.5 space-x-3":"flex w-full pt-2.5 space-x-3 mb-20")},[(0,o._)("button",{onClick:t[13]||(t[13]=(...e)=>r.generate&&r.generate(...e)),class:"w-full flex flex-row px-4 py-2.5 text-left text-xs font-medium text-white items-center bg-sky-600 rounded-lg hover:bg-sky-700 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(m,{size:"1.25rem",class:"text-gray-200"}),Et]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[14]||(t[14]=(...e)=>r.resetAll&&r.resetAll(...e)),class:"hover:text-gray-100 flex flex-col items-center w-12 py-2.5 py-3 text-xs font-medium text-white bg-gray-200 rounded-lg hover:bg-gray-300 border-gray-300 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(f,{size:"1.25rem",class:"text-gray-400"})])),[[b,{content:"Atur Ulang",placeholder:"bottom"}]])],2),i.graphicImageName?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[15]||(t[15]=(...e)=>r.insertImage&&r.insertImage(...e)),class:"text-left mb-20 mt-3.5 w-full border-dashed border-2 border-gray-200 px-4 py-2.5 text-xs font-medium focus:border-solid focus:border-sky-500 flex flex-row items-center bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200"},[(0,o.Wm)(y,{size:"1.25rem",class:"text-gray-400"}),St])):(0,o.kq)("",!0)])])])])],512)}var Ft={name:"Lpue",inject:["insertGraphicImage"],components:{Loading:xe(),Multiselect:Re.Z,DatePicker:Te.Mt,UilFileRedoAlt:_e.Z,UilFileInfoAlt:$e.Z,UilChartLine:ve.Z,UilDocumentLayoutLeft:De.Z,UilPicture:Ce.Z,UilTrashAlt:Le.Z},directives:{},mounted(){this.scrollToTop()},data(){return{graphicImageName:"",tryingAt:0,loading:!1,canceled:!1,insertingImage:!1,lengthMask:P.lengthMasker,weightMask:P.weightMasker,selectedDateRange:this.resetRangeDate(),dateRangeOpened:!1,dateRangeDayClicked:0,dateRangeMasks:{title:"MMMM YYYY",input:"DD MMMM YYYY"},dateRangeConfig:{type:"string",mask:"YYYY-MM-DD"},selectedWpp:[],shouldWppRetrieve:!0,wppFetched:!1,wppTotal:0,wppTagsMode:!0,selectedResource:[],shouldResourceRetrieve:!1,resourceFetched:!1,resourceTotal:0,resourceTagsMode:!0,selectedLocation:[],shouldLocationRetrieve:!1,locationFetched:!1,locationTotal:0,locationTagsMode:!0}},methods:{formatDateRange:function(e){return e.start&&e.start?`${e.start} - ${e.end}`:""},resetRangeDate:function(){return{start:new Date("2019-01-01"),end:new Date("2019-12-31")}},onDateRangeOpened:function(){this.dateRangeOpened=!0,this.dateRangeDayClicked=0},onDateRangeChanged:function(){this.dateRangeDayClicked++,this.dateRangeDayClicked%2===0&&this.resetWpp()},scrollToTop(){this.$refs.toTop.focus()},resetAll:function(){this.graphicImageName="",this.selectedDateRange=(0,ke.iH)(this.resetRangeDate()),this.resetWpp(),this.scrollToTop()},wppValue(){const e=(0,ke.IU)(this.selectedWpp);return e.length>0&&e.length===this.wppTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allWppSelected:function(){return`${this.$RED.ALL_WPP}&nbsp;&nbsp;(${this.wppTotal})`},wppTagCreated:function(e){this.wppTagsMode=!(this.wppTotal>1&&e.length===this.wppTotal),this.onWppChanged()},resetWpp:function(){this.shouldWppRetrieve=!0,this.wppFetched=!1,(0,ke.IU)(this.selectedWpp).length>0&&(this.$refs.wpp.clear(),this.$refs.wpp.clearSearch()),this.wppTotal=0,this.resetResource()},wppFocused:function(){!this.wppFetched&&this.shouldWppRetrieve&&this.$refs.wpp.refreshOptions()},getWpp:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.LPUE}/wpp`,this.formForAsync());return this.wppTotal=e&&e.length>0?e[0]["options"].length:0,this.wppFetched=!0,e},onWppChanged:function(){this.resetResource()},resourceValue(){const e=(0,ke.IU)(this.selectedResource);return e.length>0&&e.length===this.resourceTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allResourceSelected:function(){return`${this.$RED.ALL_RESOURCE}&nbsp;&nbsp;(${this.resourceTotal})`},resourceTagCreated:function(e){this.resourceTagsMode=!(this.resourceTotal>1&&e.length===this.resourceTotal),this.onResourceChanged()},resetResource:function(){this.shouldResourceRetrieve=!0,this.resourceFetched=!1,(0,ke.IU)(this.selectedResource).length>0&&this.$refs.resource.clear(),this.resourceTotal=0,this.resetLocation()},resourceFocused:function(){!this.resourceFetched&&this.shouldResourceRetrieve&&this.$refs.resource.refreshOptions()},getResources:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.LPUE}/resources`,this.formForAsync());return this.resourceTotal=e.length>0?e[0]["options"].length:0,this.resourceFetched=!0,e},onResourceChanged:function(){this.resetLocation()},locationValue(){const e=(0,ke.IU)(this.selectedLocation);return e.length>0&&e.length===this.locationTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allLocationSelected:function(){return`${this.$RED.ALL_LOCATION}&nbsp;&nbsp;(${this.locationTotal})`},locationTagCreated:function(e){this.locationTagsMode=!(this.locationTotal>1&&e.length===this.locationTotal),this.onLocationChanged()},resetLocation:function(){this.shouldLocationRetrieve=!0,this.locationFetched=!1,(0,ke.IU)(this.selectedLocation).length>0&&this.$refs.location.clear(),this.locationTotal=0},locationFocused:function(){!this.locationFetched&&this.shouldLocationRetrieve&&this.$refs.location.refreshOptions()},getLocations:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.LPUE}/locations`,this.formForAsync());return this.locationTotal=e.length>0?e[0]["options"].length:0,this.locationFetched=!0,e},onLocationChanged:function(){},tippyOnAllSelected:function(e){const t=(0,ke.IU)(e),s=t.reduce(((e,s,a)=>`${e} ${s}${a<t.length-1?" <br>":""}`),"");return{content:s,placement:"left"}},formForAsync:function(){const{start:e,end:t,wpp:s,resource:a,location:o}=this.form();return{start:e,end:t,wpp:0===s.length?this.$RED.API_FOR_ZERO_SELECTED:s,resource:0===a.length?this.$RED.API_FOR_ZERO_SELECTED:a,location:0===o.length?this.$RED.API_FOR_ZERO_SELECTED:o}},form:function(){const{start:e,end:t}=this.selectedDateRange?(0,ke.IU)(this.selectedDateRange):this.resetRangeDate();return{start:e,end:t,wpp:this.wppValue(),resource:this.resourceValue(),location:this.locationValue()}},pass:function(e){const{start:t,end:s,wpp:a,resource:o,location:l}=e;return null===t||null===s?"Inputkan Rentang tanggal":!a||a.length<=0?(this.wppFocused(),this.$refs.wpp.$el.focus(),"Inputkan WPP"):!o||o.length<=0?(this.resourceFocused(),this.$refs.resource.$el.focus(),"Inputkan Sumber Daya"):!l||l.length<=0?(this.locationFocused(),this.$refs.location.$el.focus(),"Inputkan Lokasi"):void 0},insertImage:function(e=!1){e&&(this.insertingImage=!0,this.loading=!0),this.insertGraphicImage(this.graphicImageName,(()=>{this.successfullyInsertedImage()}),(()=>{this.failedToInsertImage()}))},successfullyGenerated({status:e,graphicImageName:t},s){s!==this.tryingAt||this.canceled||("SUCCESS"===e?(this.graphicImageName=t||"",this.insertingImage=!0,this.insertImage()):this.failedToGenerate())},failedToGenerate:function(){this.graphicImageName="",this.loading=!1,this.$error("Grafik tidak berhasil digenerate.")},generate:async function(){const e=this.form(),t=this.pass(e);if(t)return void this.$error(t);this.tryingAt++;const s=this.tryingAt;this.graphicImageName="",this.loading=!0,this.canceled=!1,this.insertingImage=!1,this.$store.commit("setSearchText",""),this.axios.post(`${this.$RED.HOST}/${this.$RED.LPUE}`,e).then((({data:e})=>{this.successfullyGenerated(e,s)})).catch((()=>{s===this.tryingAt&&this.failedToGenerate()}))},cancel:function(){this.loading=!1,this.canceled=!0,this.$error("Dibatalkan oleh pengguna")},successfullyInsertedImage:function(){this.insertingImage=!1,this.loading=!1,this.$success("Grafik berhasil disisipkan")},failedToInsertImage:function(){this.insertingImage=!1,this.loading=!1,this.$error("Grafik gagal disisipkan")}}};const Pt=(0,T.Z)(Ft,[["render",Ut],["__scopeId","data-v-044578c8"]]);var Wt=Pt;const Ot=e=>((0,o.dD)("data-v-68b8533e"),e=e(),(0,o.Cn)(),e),Gt={ref:"sectioncontainer",class:"flex-1 mt-20 pt-1 pb-5 mb-10 bg-gray-100 h-full"},Nt={key:1,style:{"z-index":"10000"},class:"text-xs text-red-500 absolute bottom-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},zt={class:"max-w-screen-xl mx-auto"},Vt={ref:"toTop",autocomplete:"off",class:"h-0 -mt-10"},Ht={class:"max-w-lg mx-auto"},Yt={class:"pl-6 pr-4 mb-0 space-y-5 rounded-lg"},Zt={class:"flex-col"},jt={class:"flex flex-row text-gray-700 item-center justify-between pb-2"},Kt={class:"flex flex-row text-gray-700 item-center"},qt=Ot((()=>(0,o._)("span",{class:"text-base font-medium pl-1 pb-4 font-semibold text-sky-700"},"Parameter Pembuatan Grafik",-1))),Bt=Ot((()=>(0,o._)("label",{for:"date-range",class:"text-xs font-medium pl-1 text-gray-600"},"Rentang Tanggal",-1))),Qt={class:"relative mt-1"},Jt=["value"],Xt=Ot((()=>(0,o._)("label",{for:"wpp",class:"text-xs font-medium pl-1 text-gray-600"},"WPP",-1))),es={class:"relative mt-1"},ts=["onMousedown"],ss=Ot((()=>(0,o._)("label",{for:"resource",class:"text-xs font-medium pl-1 text-gray-600"},"Sumber Daya",-1))),as={class:"relative mt-1"},os=["onMousedown"],ls=Ot((()=>(0,o._)("label",{for:"location",class:"text-xs font-medium pl-1 text-gray-600"},"Lokasi Pendaratan/Sampling",-1))),ns={class:"relative mt-1"},is=["onMousedown"],rs={class:"flex flex-col w-full pt-2"},cs=Ot((()=>(0,o._)("span",{class:"text-gray-200 ml-2"},"Hasilkan Grafik",-1))),us=Ot((()=>(0,o._)("span",{class:"text-gray-500 ml-2"},"Sisipkan Ulang Gambar",-1)));function ds(e,t,s,n,i,r){const c=(0,o.up)("loading"),u=(0,o.up)("UilDocumentLayoutLeft"),d=(0,o.up)("DatePicker"),p=(0,o.up)("UilFileInfoAlt"),g=(0,o.up)("UilTrashAlt"),h=(0,o.up)("Multiselect"),m=(0,o.up)("UilChartLine"),f=(0,o.up)("UilFileRedoAlt"),y=(0,o.up)("UilPicture"),b=(0,o.Q2)("tippy");return(0,o.wg)(),(0,o.iD)("div",Gt,[i.loading&&!i.insertingImage?((0,o.wg)(),(0,o.iD)("button",{key:0,style:{"z-index":"10000"},onClick:t[0]||(t[0]=(...e)=>r.cancel&&r.cancel(...e)),class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-3 py-2 text-xs mb-12 font-medium text-white bg-red-500 rounded-lg hover:bg-red-700 focus:ring"}," Batalkan ")):(0,o.kq)("",!0),i.insertingImage?((0,o.wg)(),(0,o.iD)("span",Nt," Menyisipkan gambar ... ")):(0,o.kq)("",!0),(0,o.Wm)(c,{active:i.loading,"onUpdate:active":t[1]||(t[1]=e=>i.loading=e),color:"#ff2020",width:25,height:25,opacity:.9,"is-full-page":!0},null,8,["active","opacity"]),(0,o._)("div",zt,[(0,o._)("input",Vt,null,512),(0,o._)("div",Ht,[(0,o._)("div",Yt,[(0,o._)("div",Zt,[(0,o._)("div",jt,[(0,o._)("div",Kt,[qt,(0,o.Wm)(u,{size:"1.25rem",class:"text-sky-700 outline-none ml-3"})])]),Bt,(0,o._)("div",Qt,[(0,o.Wm)(d,{modelValue:i.selectedDateRange,"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDateRange=e),popover:{visibility:"click"},"max-date":new Date,onDayclick:r.onDateRangeChanged,"model-config":i.dateRangeConfig,locale:"id-ID",masks:i.dateRangeMasks,"is-range":""},{default:(0,o.w5)((({inputValue:s,inputEvents:a})=>[(0,o._)("input",(0,o.dG)({placeholder:"Masukan rentang tanggal",class:[e.$style.form.input,"bg-white w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400 focus-within:outline-sky-400"],value:r.formatDateRange(s)},(0,o.mx)(a.end),{onFocus:t[2]||(t[2]=(...e)=>r.onDateRangeOpened&&r.onDateRangeOpened(...e))}),null,16,Jt)])),_:1},8,["modelValue","max-date","onDayclick","model-config","masks"])])]),(0,o._)("div",null,[Xt,(0,o._)("div",es,[(0,o.Wm)(h,{placeholder:"Pilih wpp","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedWpp,"onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedWpp=e),ref:"wpp",onClick:r.wppFocused,mode:i.wppTagsMode?"tags":"multiple",multipleLabel:r.allWppSelected,classes:e.$style.multiselect.component(i.wppFetched,i.wppTagsMode),onChange:t[6]||(t[6]=e=>r.wppTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.wppFetched?-1:i.shouldWppRetrieve?0:-1,options:r.getWpp},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,ts)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.wppTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedWpp)]]),i.wppTagsMode&&i.selectedWpp.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[4]||(t[4]=t=>e.$refs.wpp.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[ss,(0,o._)("div",as,[(0,o.Wm)(h,{placeholder:"Pilih sumber daya","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedResource,"onUpdate:modelValue":t[8]||(t[8]=e=>i.selectedResource=e),ref:"resource",onClick:r.resourceFocused,mode:i.resourceTagsMode?"tags":"multiple",multipleLabel:r.allResourceSelected,classes:e.$style.multiselect.component(i.resourceFetched,i.resourceTagsMode),onChange:t[9]||(t[9]=e=>r.resourceTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.resourceFetched?-1:i.shouldResourceRetrieve?0:-1,options:r.getResources},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,os)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.resourceTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedResource)]]),i.resourceTagsMode&&i.selectedResource.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[7]||(t[7]=t=>e.$refs.resource.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[ls,(0,o._)("div",ns,[(0,o.Wm)(h,{placeholder:"Pilih lokasi","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedLocation,"onUpdate:modelValue":t[11]||(t[11]=e=>i.selectedLocation=e),ref:"location",onClick:r.locationFocused,mode:i.locationTagsMode?"tags":"multiple",multipleLabel:r.allLocationSelected,classes:e.$style.multiselect.component(i.locationFetched,i.locationTagsMode),onChange:t[12]||(t[12]=e=>r.locationTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.locationFetched?-1:i.shouldLocationRetrieve?0:-1,options:r.getLocations},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,is)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.locationTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedLocation)]]),i.locationTagsMode&&i.selectedLocation.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[10]||(t[10]=t=>e.$refs.location.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",rs,[(0,o._)("div",{class:(0,l.C_)(i.graphicImageName?"flex w-full pt-2.5 space-x-3":"flex w-full pt-2.5 space-x-3 mb-20")},[(0,o._)("button",{onClick:t[13]||(t[13]=(...e)=>r.generate&&r.generate(...e)),class:"w-full flex flex-row px-4 py-2.5 text-left text-xs font-medium text-white items-center bg-sky-600 rounded-lg hover:bg-sky-700 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(m,{size:"1.25rem",class:"text-gray-200"}),cs]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[14]||(t[14]=(...e)=>r.resetAll&&r.resetAll(...e)),class:"hover:text-gray-100 flex flex-col items-center w-12 py-2.5 py-3 text-xs font-medium text-white bg-gray-200 rounded-lg hover:bg-gray-300 border-gray-300 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(f,{size:"1.25rem",class:"text-gray-400"})])),[[b,{content:"Atur Ulang",placeholder:"bottom"}]])],2),i.graphicImageName?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[15]||(t[15]=(...e)=>r.insertImage&&r.insertImage(...e)),class:"text-left mb-20 mt-3.5 w-full border-dashed border-2 border-gray-200 px-4 py-2.5 text-xs font-medium focus:border-solid focus:border-sky-500 flex flex-row items-center bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200"},[(0,o.Wm)(y,{size:"1.25rem",class:"text-gray-400"}),us])):(0,o.kq)("",!0)])])])])],512)}var ps={name:"HasilTangkapanPerTrip",inject:["insertGraphicImage"],components:{Loading:xe(),Multiselect:Re.Z,DatePicker:Te.Mt,UilFileRedoAlt:_e.Z,UilFileInfoAlt:$e.Z,UilChartLine:ve.Z,UilDocumentLayoutLeft:De.Z,UilPicture:Ce.Z,UilTrashAlt:Le.Z},directives:{},mounted(){this.scrollToTop()},data(){return{graphicImageName:"",tryingAt:0,loading:!1,canceled:!1,insertingImage:!1,lengthMask:P.lengthMasker,weightMask:P.weightMasker,selectedDateRange:this.resetRangeDate(),dateRangeOpened:!1,dateRangeDayClicked:0,dateRangeMasks:{title:"MMMM YYYY",input:"DD MMMM YYYY"},dateRangeConfig:{type:"string",mask:"YYYY-MM-DD"},selectedWpp:[],shouldWppRetrieve:!0,wppFetched:!1,wppTotal:0,wppTagsMode:!0,selectedResource:[],shouldResourceRetrieve:!1,resourceFetched:!1,resourceTotal:0,resourceTagsMode:!0,selectedLocation:[],shouldLocationRetrieve:!1,locationFetched:!1,locationTotal:0,locationTagsMode:!0}},methods:{formatDateRange:function(e){return e.start&&e.start?`${e.start} - ${e.end}`:""},resetRangeDate:function(){return{start:new Date("2019-01-01"),end:new Date("2019-12-31")}},onDateRangeOpened:function(){this.dateRangeOpened=!0,this.dateRangeDayClicked=0},onDateRangeChanged:function(){this.dateRangeDayClicked++,this.dateRangeDayClicked%2===0&&this.resetWpp()},scrollToTop(){this.$refs.toTop.focus()},resetAll:function(){this.graphicImageName="",this.selectedDateRange=(0,ke.iH)(this.resetRangeDate()),this.resetWpp(),this.scrollToTop()},wppValue(){const e=(0,ke.IU)(this.selectedWpp);return e.length>0&&e.length===this.wppTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allWppSelected:function(){return`${this.$RED.ALL_WPP}&nbsp;&nbsp;(${this.wppTotal})`},wppTagCreated:function(e){this.wppTagsMode=!(this.wppTotal>1&&e.length===this.wppTotal),this.onWppChanged()},resetWpp:function(){this.shouldWppRetrieve=!0,this.wppFetched=!1,(0,ke.IU)(this.selectedWpp).length>0&&(this.$refs.wpp.clear(),this.$refs.wpp.clearSearch()),this.wppTotal=0,this.resetResource()},wppFocused:function(){!this.wppFetched&&this.shouldWppRetrieve&&this.$refs.wpp.refreshOptions()},getWpp:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.HASIL_TANGKAPAN_PER_TRIP}/wpp`,this.formForAsync());return this.wppTotal=e&&e.length>0?e[0]["options"].length:0,this.wppFetched=!0,e},onWppChanged:function(){this.resetResource()},resourceValue(){const e=(0,ke.IU)(this.selectedResource);return e.length>0&&e.length===this.resourceTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allResourceSelected:function(){return`${this.$RED.ALL_RESOURCE}&nbsp;&nbsp;(${this.resourceTotal})`},resourceTagCreated:function(e){this.resourceTagsMode=!(this.resourceTotal>1&&e.length===this.resourceTotal),this.onResourceChanged()},resetResource:function(){this.shouldResourceRetrieve=!0,this.resourceFetched=!1,(0,ke.IU)(this.selectedResource).length>0&&this.$refs.resource.clear(),this.resourceTotal=0,this.resetLocation()},resourceFocused:function(){!this.resourceFetched&&this.shouldResourceRetrieve&&this.$refs.resource.refreshOptions()},getResources:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.HASIL_TANGKAPAN_PER_TRIP}/resources`,this.formForAsync());return this.resourceTotal=e.length>0?e[0]["options"].length:0,this.resourceFetched=!0,e},onResourceChanged:function(){this.resetLocation()},locationValue(){const e=(0,ke.IU)(this.selectedLocation);return e.length>0&&e.length===this.locationTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allLocationSelected:function(){return`${this.$RED.ALL_LOCATION}&nbsp;&nbsp;(${this.locationTotal})`},locationTagCreated:function(e){this.locationTagsMode=!(this.locationTotal>1&&e.length===this.locationTotal),this.onLocationChanged()},resetLocation:function(){this.shouldLocationRetrieve=!0,this.locationFetched=!1,(0,ke.IU)(this.selectedLocation).length>0&&this.$refs.location.clear(),this.locationTotal=0},locationFocused:function(){!this.locationFetched&&this.shouldLocationRetrieve&&this.$refs.location.refreshOptions()},getLocations:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.HASIL_TANGKAPAN_PER_TRIP}/locations`,this.formForAsync());return this.locationTotal=e.length>0?e[0]["options"].length:0,this.locationFetched=!0,e},onLocationChanged:function(){},tippyOnAllSelected:function(e){const t=(0,ke.IU)(e),s=t.reduce(((e,s,a)=>`${e} ${s}${a<t.length-1?" <br>":""}`),"");return{content:s,placement:"left"}},formForAsync:function(){const{start:e,end:t,wpp:s,resource:a,location:o}=this.form();return{start:e,end:t,wpp:0===s.length?this.$RED.API_FOR_ZERO_SELECTED:s,resource:0===a.length?this.$RED.API_FOR_ZERO_SELECTED:a,location:0===o.length?this.$RED.API_FOR_ZERO_SELECTED:o}},form:function(){const{start:e,end:t}=this.selectedDateRange?(0,ke.IU)(this.selectedDateRange):this.resetRangeDate();return{start:e,end:t,wpp:this.wppValue(),resource:this.resourceValue(),location:this.locationValue()}},pass:function(e){const{start:t,end:s,wpp:a,resource:o,location:l}=e;return null===t||null===s?"Inputkan Rentang tanggal":!a||a.length<=0?(this.wppFocused(),this.$refs.wpp.$el.focus(),"Inputkan WPP"):!o||o.length<=0?(this.resourceFocused(),this.$refs.resource.$el.focus(),"Inputkan Sumber Daya"):!l||l.length<=0?(this.locationFocused(),this.$refs.location.$el.focus(),"Inputkan Lokasi"):void 0},insertImage:function(e=!1){e&&(this.insertingImage=!0,this.loading=!0),this.insertGraphicImage(this.graphicImageName,(()=>{this.successfullyInsertedImage()}),(()=>{this.failedToInsertImage()}))},successfullyGenerated({status:e,graphicImageName:t},s){s!==this.tryingAt||this.canceled||("SUCCESS"===e?(this.graphicImageName=t||"",this.insertingImage=!0,this.insertImage()):this.failedToGenerate())},failedToGenerate:function(){this.graphicImageName="",this.loading=!1,this.$error("Grafik tidak berhasil digenerate.")},generate:async function(){const e=this.form(),t=this.pass(e);if(t)return void this.$error(t);this.tryingAt++;const s=this.tryingAt;this.graphicImageName="",this.loading=!0,this.canceled=!1,this.insertingImage=!1,this.$store.commit("setSearchText",""),this.axios.post(`${this.$RED.HOST}/${this.$RED.HASIL_TANGKAPAN_PER_TRIP}`,e).then((({data:e})=>{this.successfullyGenerated(e,s)})).catch((()=>{s===this.tryingAt&&this.failedToGenerate()}))},cancel:function(){this.loading=!1,this.canceled=!0,this.$error("Dibatalkan oleh pengguna")},successfullyInsertedImage:function(){this.insertingImage=!1,this.loading=!1,this.$success("Grafik berhasil disisipkan")},failedToInsertImage:function(){this.insertingImage=!1,this.loading=!1,this.$error("Grafik gagal disisipkan")}}};const gs=(0,T.Z)(ps,[["render",ds],["__scopeId","data-v-68b8533e"]]);var hs=gs;const ms=e=>((0,o.dD)("data-v-4210a922"),e=e(),(0,o.Cn)(),e),fs={ref:"sectioncontainer",class:"flex-1 mt-20 pt-1 pb-5 mb-10 bg-gray-100 h-full"},ys={key:1,style:{"z-index":"10000"},class:"text-xs text-red-500 absolute bottom-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},bs={class:"max-w-screen-xl mx-auto"},ws={ref:"toTop",autocomplete:"off",class:"h-0 -mt-10"},xs={class:"max-w-lg mx-auto"},Rs={class:"pl-6 pr-4 mb-0 space-y-5 rounded-lg"},ks={class:"flex-col"},Ts={class:"flex flex-row text-gray-700 item-center justify-between pb-2"},_s={class:"flex flex-row text-gray-700 item-center"},$s=ms((()=>(0,o._)("span",{class:"text-base font-medium pl-1 pb-4 font-semibold text-sky-700"},"Parameter Pembuatan Grafik",-1))),vs=ms((()=>(0,o._)("label",{for:"date-range",class:"text-xs font-medium pl-1 text-gray-600"},"Rentang Tanggal",-1))),Ds={class:"relative mt-1"},Cs=["value"],Ls=ms((()=>(0,o._)("label",{for:"wpp",class:"text-xs font-medium pl-1 text-gray-600"},"WPP",-1))),Is={class:"relative mt-1"},As=["onMousedown"],Ms=ms((()=>(0,o._)("label",{for:"resource",class:"text-xs font-medium pl-1 text-gray-600"},"Sumber Daya",-1))),Es={class:"relative mt-1"},Ss=["onMousedown"],Us=ms((()=>(0,o._)("label",{for:"location",class:"text-xs font-medium pl-1 text-gray-600"},"Lokasi Pendaratan/Sampling",-1))),Fs={class:"relative mt-1"},Ps=["onMousedown"],Ws={class:"flex flex-col w-full pt-2"},Os=ms((()=>(0,o._)("span",{class:"text-gray-200 ml-2"},"Hasilkan Grafik",-1))),Gs=ms((()=>(0,o._)("span",{class:"text-gray-500 ml-2"},"Sisipkan Ulang Gambar",-1)));function Ns(e,t,s,n,i,r){const c=(0,o.up)("loading"),u=(0,o.up)("UilDocumentLayoutLeft"),d=(0,o.up)("DatePicker"),p=(0,o.up)("UilFileInfoAlt"),g=(0,o.up)("UilTrashAlt"),h=(0,o.up)("Multiselect"),m=(0,o.up)("UilChartLine"),f=(0,o.up)("UilFileRedoAlt"),y=(0,o.up)("UilPicture"),b=(0,o.Q2)("tippy");return(0,o.wg)(),(0,o.iD)("div",fs,[i.loading&&!i.insertingImage?((0,o.wg)(),(0,o.iD)("button",{key:0,style:{"z-index":"10000"},onClick:t[0]||(t[0]=(...e)=>r.cancel&&r.cancel(...e)),class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-3 py-2 text-xs mb-12 font-medium text-white bg-red-500 rounded-lg hover:bg-red-700 focus:ring"}," Batalkan ")):(0,o.kq)("",!0),i.insertingImage?((0,o.wg)(),(0,o.iD)("span",ys," Menyisipkan gambar ... ")):(0,o.kq)("",!0),(0,o.Wm)(c,{active:i.loading,"onUpdate:active":t[1]||(t[1]=e=>i.loading=e),color:"#ff2020",width:25,height:25,opacity:.9,"is-full-page":!0},null,8,["active","opacity"]),(0,o._)("div",bs,[(0,o._)("input",ws,null,512),(0,o._)("div",xs,[(0,o._)("div",Rs,[(0,o._)("div",ks,[(0,o._)("div",Ts,[(0,o._)("div",_s,[$s,(0,o.Wm)(u,{size:"1.25rem",class:"text-sky-700 outline-none ml-3"})])]),vs,(0,o._)("div",Ds,[(0,o.Wm)(d,{modelValue:i.selectedDateRange,"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDateRange=e),popover:{visibility:"click"},"max-date":new Date,onDayclick:r.onDateRangeChanged,"model-config":i.dateRangeConfig,locale:"id-ID",masks:i.dateRangeMasks,"is-range":""},{default:(0,o.w5)((({inputValue:s,inputEvents:a})=>[(0,o._)("input",(0,o.dG)({placeholder:"Masukan rentang tanggal",class:[e.$style.form.input,"bg-white w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400 focus-within:outline-sky-400"],value:r.formatDateRange(s)},(0,o.mx)(a.end),{onFocus:t[2]||(t[2]=(...e)=>r.onDateRangeOpened&&r.onDateRangeOpened(...e))}),null,16,Cs)])),_:1},8,["modelValue","max-date","onDayclick","model-config","masks"])])]),(0,o._)("div",null,[Ls,(0,o._)("div",Is,[(0,o.Wm)(h,{placeholder:"Pilih wpp","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedWpp,"onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedWpp=e),ref:"wpp",onClick:r.wppFocused,mode:i.wppTagsMode?"tags":"multiple",multipleLabel:r.allWppSelected,classes:e.$style.multiselect.component(i.wppFetched,i.wppTagsMode),onChange:t[6]||(t[6]=e=>r.wppTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.wppFetched?-1:i.shouldWppRetrieve?0:-1,options:r.getWpp},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,As)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.wppTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedWpp)]]),i.wppTagsMode&&i.selectedWpp.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[4]||(t[4]=t=>e.$refs.wpp.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[Ms,(0,o._)("div",Es,[(0,o.Wm)(h,{placeholder:"Pilih sumber daya","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedResource,"onUpdate:modelValue":t[8]||(t[8]=e=>i.selectedResource=e),ref:"resource",onClick:r.resourceFocused,mode:i.resourceTagsMode?"tags":"multiple",multipleLabel:r.allResourceSelected,classes:e.$style.multiselect.component(i.resourceFetched,i.resourceTagsMode),onChange:t[9]||(t[9]=e=>r.resourceTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.resourceFetched?-1:i.shouldResourceRetrieve?0:-1,options:r.getResources},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,Ss)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.resourceTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedResource)]]),i.resourceTagsMode&&i.selectedResource.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[7]||(t[7]=t=>e.$refs.resource.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[Us,(0,o._)("div",Fs,[(0,o.Wm)(h,{placeholder:"Pilih lokasi","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedLocation,"onUpdate:modelValue":t[11]||(t[11]=e=>i.selectedLocation=e),ref:"location",onClick:r.locationFocused,mode:i.locationTagsMode?"tags":"multiple",multipleLabel:r.allLocationSelected,classes:e.$style.multiselect.component(i.locationFetched,i.locationTagsMode),onChange:t[12]||(t[12]=e=>r.locationTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.locationFetched?-1:i.shouldLocationRetrieve?0:-1,options:r.getLocations},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,Ps)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.locationTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedLocation)]]),i.locationTagsMode&&i.selectedLocation.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[10]||(t[10]=t=>e.$refs.location.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",Ws,[(0,o._)("div",{class:(0,l.C_)(i.graphicImageName?"flex w-full pt-2.5 space-x-3":"flex w-full pt-2.5 space-x-3 mb-20")},[(0,o._)("button",{onClick:t[13]||(t[13]=(...e)=>r.generate&&r.generate(...e)),class:"w-full flex flex-row px-4 py-2.5 text-left text-xs font-medium text-white items-center bg-sky-600 rounded-lg hover:bg-sky-700 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(m,{size:"1.25rem",class:"text-gray-200"}),Os]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[14]||(t[14]=(...e)=>r.resetAll&&r.resetAll(...e)),class:"hover:text-gray-100 flex flex-col items-center w-12 py-2.5 py-3 text-xs font-medium text-white bg-gray-200 rounded-lg hover:bg-gray-300 border-gray-300 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(f,{size:"1.25rem",class:"text-gray-400"})])),[[b,{content:"Atur Ulang",placeholder:"bottom"}]])],2),i.graphicImageName?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[15]||(t[15]=(...e)=>r.insertImage&&r.insertImage(...e)),class:"text-left mb-20 mt-3.5 w-full border-dashed border-2 border-gray-200 px-4 py-2.5 text-xs font-medium focus:border-solid focus:border-sky-500 flex flex-row items-center bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200"},[(0,o.Wm)(y,{size:"1.25rem",class:"text-gray-400"}),Gs])):(0,o.kq)("",!0)])])])])],512)}var zs={name:"ProduksiIkanPerAlatTangkap",inject:["insertGraphicImage"],components:{Loading:xe(),Multiselect:Re.Z,DatePicker:Te.Mt,UilFileRedoAlt:_e.Z,UilFileInfoAlt:$e.Z,UilChartLine:ve.Z,UilDocumentLayoutLeft:De.Z,UilPicture:Ce.Z,UilTrashAlt:Le.Z},directives:{},mounted(){this.scrollToTop()},data(){return{graphicImageName:"",tryingAt:0,loading:!1,canceled:!1,insertingImage:!1,lengthMask:P.lengthMasker,weightMask:P.weightMasker,selectedDateRange:this.resetRangeDate(),dateRangeOpened:!1,dateRangeDayClicked:0,dateRangeMasks:{title:"MMMM YYYY",input:"DD MMMM YYYY"},dateRangeConfig:{type:"string",mask:"YYYY-MM-DD"},selectedWpp:[],shouldWppRetrieve:!0,wppFetched:!1,wppTotal:0,wppTagsMode:!0,selectedResource:[],shouldResourceRetrieve:!1,resourceFetched:!1,resourceTotal:0,resourceTagsMode:!0,selectedLocation:[],shouldLocationRetrieve:!1,locationFetched:!1,locationTotal:0,locationTagsMode:!0}},methods:{formatDateRange:function(e){return e.start&&e.start?`${e.start} - ${e.end}`:""},resetRangeDate:function(){return{start:new Date("2019-01-01"),end:new Date("2019-12-31")}},onDateRangeOpened:function(){this.dateRangeOpened=!0,this.dateRangeDayClicked=0},onDateRangeChanged:function(){this.dateRangeDayClicked++,this.dateRangeDayClicked%2===0&&this.resetWpp()},scrollToTop(){this.$refs.toTop.focus()},resetAll:function(){this.graphicImageName="",this.selectedDateRange=(0,ke.iH)(this.resetRangeDate()),this.resetWpp(),this.scrollToTop()},wppValue(){const e=(0,ke.IU)(this.selectedWpp);return e.length>0&&e.length===this.wppTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allWppSelected:function(){return`${this.$RED.ALL_WPP}&nbsp;&nbsp;(${this.wppTotal})`},wppTagCreated:function(e){this.wppTagsMode=!(this.wppTotal>1&&e.length===this.wppTotal),this.onWppChanged()},resetWpp:function(){this.shouldWppRetrieve=!0,this.wppFetched=!1,(0,ke.IU)(this.selectedWpp).length>0&&(this.$refs.wpp.clear(),this.$refs.wpp.clearSearch()),this.wppTotal=0,this.resetResource()},wppFocused:function(){!this.wppFetched&&this.shouldWppRetrieve&&this.$refs.wpp.refreshOptions()},getWpp:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.PRODUKSI_IKAN_PER_ALAT_TANGKAP}/wpp`,this.formForAsync());return this.wppTotal=e&&e.length>0?e[0]["options"].length:0,this.wppFetched=!0,e},onWppChanged:function(){this.resetResource()},resourceValue(){const e=(0,ke.IU)(this.selectedResource);return e.length>0&&e.length===this.resourceTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allResourceSelected:function(){return`${this.$RED.ALL_RESOURCE}&nbsp;&nbsp;(${this.resourceTotal})`},resourceTagCreated:function(e){this.resourceTagsMode=!(this.resourceTotal>1&&e.length===this.resourceTotal),this.onResourceChanged()},resetResource:function(){this.shouldResourceRetrieve=!0,this.resourceFetched=!1,(0,ke.IU)(this.selectedResource).length>0&&this.$refs.resource.clear(),this.resourceTotal=0,this.resetLocation()},resourceFocused:function(){!this.resourceFetched&&this.shouldResourceRetrieve&&this.$refs.resource.refreshOptions()},getResources:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.PRODUKSI_IKAN_PER_ALAT_TANGKAP}/resources`,this.formForAsync());return this.resourceTotal=e.length>0?e[0]["options"].length:0,this.resourceFetched=!0,e},onResourceChanged:function(){this.resetLocation()},locationValue(){const e=(0,ke.IU)(this.selectedLocation);return e.length>0&&e.length===this.locationTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allLocationSelected:function(){return`${this.$RED.ALL_LOCATION}&nbsp;&nbsp;(${this.locationTotal})`},locationTagCreated:function(e){this.locationTagsMode=!(this.locationTotal>1&&e.length===this.locationTotal),this.onLocationChanged()},resetLocation:function(){this.shouldLocationRetrieve=!0,this.locationFetched=!1,(0,ke.IU)(this.selectedLocation).length>0&&this.$refs.location.clear(),this.locationTotal=0},locationFocused:function(){!this.locationFetched&&this.shouldLocationRetrieve&&this.$refs.location.refreshOptions()},getLocations:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.PRODUKSI_IKAN_PER_ALAT_TANGKAP}/locations`,this.formForAsync());return this.locationTotal=e.length>0?e[0]["options"].length:0,this.locationFetched=!0,e},onLocationChanged:function(){},tippyOnAllSelected:function(e){const t=(0,ke.IU)(e),s=t.reduce(((e,s,a)=>`${e} ${s}${a<t.length-1?" <br>":""}`),"");return{content:s,placement:"left"}},formForAsync:function(){const{start:e,end:t,wpp:s,resource:a,location:o}=this.form();return{start:e,end:t,wpp:0===s.length?this.$RED.API_FOR_ZERO_SELECTED:s,resource:0===a.length?this.$RED.API_FOR_ZERO_SELECTED:a,location:0===o.length?this.$RED.API_FOR_ZERO_SELECTED:o}},form:function(){const{start:e,end:t}=this.selectedDateRange?(0,ke.IU)(this.selectedDateRange):this.resetRangeDate();return{start:e,end:t,wpp:this.wppValue(),resource:this.resourceValue(),location:this.locationValue()}},pass:function(e){const{start:t,end:s,wpp:a,resource:o,location:l}=e;return null===t||null===s?"Inputkan Rentang tanggal":!a||a.length<=0?(this.wppFocused(),this.$refs.wpp.$el.focus(),"Inputkan WPP"):!o||o.length<=0?(this.resourceFocused(),this.$refs.resource.$el.focus(),"Inputkan Sumber Daya"):!l||l.length<=0?(this.locationFocused(),this.$refs.location.$el.focus(),"Inputkan Lokasi"):void 0},insertImage:function(e=!1){e&&(this.insertingImage=!0,this.loading=!0),this.insertGraphicImage(this.graphicImageName,(()=>{this.successfullyInsertedImage()}),(()=>{this.failedToInsertImage()}))},successfullyGenerated({status:e,graphicImageName:t},s){s!==this.tryingAt||this.canceled||("SUCCESS"===e?(this.graphicImageName=t||"",this.insertingImage=!0,this.insertImage()):this.failedToGenerate())},failedToGenerate:function(){this.graphicImageName="",this.loading=!1,this.$error("Grafik tidak berhasil digenerate.")},generate:async function(){const e=this.form(),t=this.pass(e);if(t)return void this.$error(t);this.tryingAt++;const s=this.tryingAt;this.graphicImageName="",this.loading=!0,this.canceled=!1,this.insertingImage=!1,this.$store.commit("setSearchText",""),this.axios.post(`${this.$RED.HOST}/${this.$RED.PRODUKSI_IKAN_PER_ALAT_TANGKAP}`,e).then((({data:e})=>{this.successfullyGenerated(e,s)})).catch((()=>{s===this.tryingAt&&this.failedToGenerate()}))},cancel:function(){this.loading=!1,this.canceled=!0,this.$error("Dibatalkan oleh pengguna")},successfullyInsertedImage:function(){this.insertingImage=!1,this.loading=!1,this.$success("Grafik berhasil disisipkan")},failedToInsertImage:function(){this.insertingImage=!1,this.loading=!1,this.$error("Grafik gagal disisipkan")}}};const Vs=(0,T.Z)(zs,[["render",Ns],["__scopeId","data-v-4210a922"]]);var Hs=Vs;const Ys=e=>((0,o.dD)("data-v-a7b0f4c0"),e=e(),(0,o.Cn)(),e),Zs={ref:"sectioncontainer",class:"flex-1 mt-20 pt-1 pb-5 mb-10 bg-gray-100 h-full"},js={key:1,style:{"z-index":"10000"},class:"text-xs text-red-500 absolute bottom-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},Ks={class:"max-w-screen-xl mx-auto"},qs={ref:"toTop",autocomplete:"off",class:"h-0 -mt-10"},Bs={class:"max-w-lg mx-auto"},Qs={class:"pl-6 pr-4 mb-0 space-y-5 rounded-lg"},Js={class:"flex-col"},Xs={class:"flex flex-row text-gray-700 item-center justify-between pb-2"},ea={class:"flex flex-row text-gray-700 item-center"},ta=Ys((()=>(0,o._)("span",{class:"text-base font-medium pl-1 pb-4 font-semibold text-sky-700"},"Parameter Pembuatan Grafik",-1))),sa=Ys((()=>(0,o._)("label",{for:"date-range",class:"text-xs font-medium pl-1 text-gray-600"},"Rentang Tanggal",-1))),aa={class:"relative mt-1"},oa=["value"],la=Ys((()=>(0,o._)("label",{for:"wpp",class:"text-xs font-medium pl-1 text-gray-600"},"WPP",-1))),na={class:"relative mt-1"},ia=["onMousedown"],ra=Ys((()=>(0,o._)("label",{for:"resource",class:"text-xs font-medium pl-1 text-gray-600"},"Sumber Daya",-1))),ca={class:"relative mt-1"},ua=["onMousedown"],da=Ys((()=>(0,o._)("label",{for:"location",class:"text-xs font-medium pl-1 text-gray-600"},"Lokasi Pendaratan/Sampling",-1))),pa={class:"relative mt-1"},ga=["onMousedown"],ha={class:"flex flex-col w-full pt-2"},ma=Ys((()=>(0,o._)("span",{class:"text-gray-200 ml-2"},"Hasilkan Grafik",-1))),fa=Ys((()=>(0,o._)("span",{class:"text-gray-500 ml-2"},"Sisipkan Ulang Gambar",-1)));function ya(e,t,s,n,i,r){const c=(0,o.up)("loading"),u=(0,o.up)("UilDocumentLayoutLeft"),d=(0,o.up)("DatePicker"),p=(0,o.up)("UilFileInfoAlt"),g=(0,o.up)("UilTrashAlt"),h=(0,o.up)("Multiselect"),m=(0,o.up)("UilChartLine"),f=(0,o.up)("UilFileRedoAlt"),y=(0,o.up)("UilPicture"),b=(0,o.Q2)("tippy");return(0,o.wg)(),(0,o.iD)("div",Zs,[i.loading&&!i.insertingImage?((0,o.wg)(),(0,o.iD)("button",{key:0,style:{"z-index":"10000"},onClick:t[0]||(t[0]=(...e)=>r.cancel&&r.cancel(...e)),class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-3 py-2 text-xs mb-12 font-medium text-white bg-red-500 rounded-lg hover:bg-red-700 focus:ring"}," Batalkan ")):(0,o.kq)("",!0),i.insertingImage?((0,o.wg)(),(0,o.iD)("span",js," Menyisipkan gambar ... ")):(0,o.kq)("",!0),(0,o.Wm)(c,{active:i.loading,"onUpdate:active":t[1]||(t[1]=e=>i.loading=e),color:"#ff2020",width:25,height:25,opacity:.9,"is-full-page":!0},null,8,["active","opacity"]),(0,o._)("div",Ks,[(0,o._)("input",qs,null,512),(0,o._)("div",Bs,[(0,o._)("div",Qs,[(0,o._)("div",Js,[(0,o._)("div",Xs,[(0,o._)("div",ea,[ta,(0,o.Wm)(u,{size:"1.25rem",class:"text-sky-700 outline-none ml-3"})])]),sa,(0,o._)("div",aa,[(0,o.Wm)(d,{modelValue:i.selectedDateRange,"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDateRange=e),popover:{visibility:"click"},"max-date":new Date,onDayclick:r.onDateRangeChanged,"model-config":i.dateRangeConfig,locale:"id-ID",masks:i.dateRangeMasks,"is-range":""},{default:(0,o.w5)((({inputValue:s,inputEvents:a})=>[(0,o._)("input",(0,o.dG)({placeholder:"Masukan rentang tanggal",class:[e.$style.form.input,"bg-white w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400 focus-within:outline-sky-400"],value:r.formatDateRange(s)},(0,o.mx)(a.end),{onFocus:t[2]||(t[2]=(...e)=>r.onDateRangeOpened&&r.onDateRangeOpened(...e))}),null,16,oa)])),_:1},8,["modelValue","max-date","onDayclick","model-config","masks"])])]),(0,o._)("div",null,[la,(0,o._)("div",na,[(0,o.Wm)(h,{placeholder:"Pilih wpp","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedWpp,"onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedWpp=e),ref:"wpp",onClick:r.wppFocused,mode:i.wppTagsMode?"tags":"multiple",multipleLabel:r.allWppSelected,classes:e.$style.multiselect.component(i.wppFetched,i.wppTagsMode),onChange:t[6]||(t[6]=e=>r.wppTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.wppFetched?-1:i.shouldWppRetrieve?0:-1,options:r.getWpp},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,ia)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.wppTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedWpp)]]),i.wppTagsMode&&i.selectedWpp.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[4]||(t[4]=t=>e.$refs.wpp.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[ra,(0,o._)("div",ca,[(0,o.Wm)(h,{placeholder:"Pilih sumber daya","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedResource,"onUpdate:modelValue":t[8]||(t[8]=e=>i.selectedResource=e),ref:"resource",onClick:r.resourceFocused,mode:i.resourceTagsMode?"tags":"multiple",multipleLabel:r.allResourceSelected,classes:e.$style.multiselect.component(i.resourceFetched,i.resourceTagsMode),onChange:t[9]||(t[9]=e=>r.resourceTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.resourceFetched?-1:i.shouldResourceRetrieve?0:-1,options:r.getResources},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,ua)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.resourceTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedResource)]]),i.resourceTagsMode&&i.selectedResource.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[7]||(t[7]=t=>e.$refs.resource.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[da,(0,o._)("div",pa,[(0,o.Wm)(h,{placeholder:"Pilih lokasi","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedLocation,"onUpdate:modelValue":t[11]||(t[11]=e=>i.selectedLocation=e),ref:"location",onClick:r.locationFocused,mode:i.locationTagsMode?"tags":"multiple",multipleLabel:r.allLocationSelected,classes:e.$style.multiselect.component(i.locationFetched,i.locationTagsMode),onChange:t[12]||(t[12]=e=>r.locationTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.locationFetched?-1:i.shouldLocationRetrieve?0:-1,options:r.getLocations},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,ga)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.locationTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedLocation)]]),i.locationTagsMode&&i.selectedLocation.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[10]||(t[10]=t=>e.$refs.location.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",ha,[(0,o._)("div",{class:(0,l.C_)(i.graphicImageName?"flex w-full pt-2.5 space-x-3":"flex w-full pt-2.5 space-x-3 mb-20")},[(0,o._)("button",{onClick:t[13]||(t[13]=(...e)=>r.generate&&r.generate(...e)),class:"w-full flex flex-row px-4 py-2.5 text-left text-xs font-medium text-white items-center bg-sky-600 rounded-lg hover:bg-sky-700 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(m,{size:"1.25rem",class:"text-gray-200"}),ma]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[14]||(t[14]=(...e)=>r.resetAll&&r.resetAll(...e)),class:"hover:text-gray-100 flex flex-col items-center w-12 py-2.5 py-3 text-xs font-medium text-white bg-gray-200 rounded-lg hover:bg-gray-300 border-gray-300 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(f,{size:"1.25rem",class:"text-gray-400"})])),[[b,{content:"Atur Ulang",placeholder:"bottom"}]])],2),i.graphicImageName?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[15]||(t[15]=(...e)=>r.insertImage&&r.insertImage(...e)),class:"text-left mb-20 mt-3.5 w-full border-dashed border-2 border-gray-200 px-4 py-2.5 text-xs font-medium focus:border-solid focus:border-sky-500 flex flex-row items-center bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200"},[(0,o.Wm)(y,{size:"1.25rem",class:"text-gray-400"}),fa])):(0,o.kq)("",!0)])])])])],512)}var ba={name:"ProduksiIkanPerSumberDaya",inject:["insertGraphicImage"],components:{Loading:xe(),Multiselect:Re.Z,DatePicker:Te.Mt,UilFileRedoAlt:_e.Z,UilFileInfoAlt:$e.Z,UilChartLine:ve.Z,UilDocumentLayoutLeft:De.Z,UilPicture:Ce.Z,UilTrashAlt:Le.Z},directives:{},mounted(){this.scrollToTop()},data(){return{graphicImageName:"",tryingAt:0,loading:!1,canceled:!1,insertingImage:!1,lengthMask:P.lengthMasker,weightMask:P.weightMasker,selectedDateRange:this.resetRangeDate(),dateRangeOpened:!1,dateRangeDayClicked:0,dateRangeMasks:{title:"MMMM YYYY",input:"DD MMMM YYYY"},dateRangeConfig:{type:"string",mask:"YYYY-MM-DD"},selectedWpp:[],shouldWppRetrieve:!0,wppFetched:!1,wppTotal:0,wppTagsMode:!0,selectedResource:[],shouldResourceRetrieve:!1,resourceFetched:!1,resourceTotal:0,resourceTagsMode:!0,selectedLocation:[],shouldLocationRetrieve:!1,locationFetched:!1,locationTotal:0,locationTagsMode:!0}},methods:{formatDateRange:function(e){return e.start&&e.start?`${e.start} - ${e.end}`:""},resetRangeDate:function(){return{start:new Date("2019-01-01"),end:new Date("2019-12-31")}},onDateRangeOpened:function(){this.dateRangeOpened=!0,this.dateRangeDayClicked=0},onDateRangeChanged:function(){this.dateRangeDayClicked++,this.dateRangeDayClicked%2===0&&this.resetWpp()},scrollToTop(){this.$refs.toTop.focus()},resetAll:function(){this.graphicImageName="",this.selectedDateRange=(0,ke.iH)(this.resetRangeDate()),this.resetWpp(),this.scrollToTop()},wppValue(){const e=(0,ke.IU)(this.selectedWpp);return e.length>0&&e.length===this.wppTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allWppSelected:function(){return`${this.$RED.ALL_WPP}&nbsp;&nbsp;(${this.wppTotal})`},wppTagCreated:function(e){this.wppTagsMode=!(this.wppTotal>1&&e.length===this.wppTotal),this.onWppChanged()},resetWpp:function(){this.shouldWppRetrieve=!0,this.wppFetched=!1,(0,ke.IU)(this.selectedWpp).length>0&&(this.$refs.wpp.clear(),this.$refs.wpp.clearSearch()),this.wppTotal=0,this.resetResource()},wppFocused:function(){!this.wppFetched&&this.shouldWppRetrieve&&this.$refs.wpp.refreshOptions()},getWpp:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.PRODUKSI_IKAN_PER_SUMBER_DAYA}/wpp`,this.formForAsync());return this.wppTotal=e&&e.length>0?e[0]["options"].length:0,this.wppFetched=!0,e},onWppChanged:function(){this.resetResource()},resourceValue(){const e=(0,ke.IU)(this.selectedResource);return e.length>0&&e.length===this.resourceTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allResourceSelected:function(){return`${this.$RED.ALL_RESOURCE}&nbsp;&nbsp;(${this.resourceTotal})`},resourceTagCreated:function(e){this.resourceTagsMode=!(this.resourceTotal>1&&e.length===this.resourceTotal),this.onResourceChanged()},resetResource:function(){this.shouldResourceRetrieve=!0,this.resourceFetched=!1,(0,ke.IU)(this.selectedResource).length>0&&this.$refs.resource.clear(),this.resourceTotal=0,this.resetLocation()},resourceFocused:function(){!this.resourceFetched&&this.shouldResourceRetrieve&&this.$refs.resource.refreshOptions()},getResources:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.PRODUKSI_IKAN_PER_SUMBER_DAYA}/resources`,this.formForAsync());return this.resourceTotal=e.length>0?e[0]["options"].length:0,this.resourceFetched=!0,e},onResourceChanged:function(){this.resetLocation()},locationValue(){const e=(0,ke.IU)(this.selectedLocation);return e.length>0&&e.length===this.locationTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allLocationSelected:function(){return`${this.$RED.ALL_LOCATION}&nbsp;&nbsp;(${this.locationTotal})`},locationTagCreated:function(e){this.locationTagsMode=!(this.locationTotal>1&&e.length===this.locationTotal),this.onLocationChanged()},resetLocation:function(){this.shouldLocationRetrieve=!0,this.locationFetched=!1,(0,ke.IU)(this.selectedLocation).length>0&&this.$refs.location.clear(),this.locationTotal=0},locationFocused:function(){!this.locationFetched&&this.shouldLocationRetrieve&&this.$refs.location.refreshOptions()},getLocations:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.PRODUKSI_IKAN_PER_SUMBER_DAYA}/locations`,this.formForAsync());return this.locationTotal=e.length>0?e[0]["options"].length:0,this.locationFetched=!0,e},onLocationChanged:function(){},tippyOnAllSelected:function(e){const t=(0,ke.IU)(e),s=t.reduce(((e,s,a)=>`${e} ${s}${a<t.length-1?" <br>":""}`),"");return{content:s,placement:"left"}},formForAsync:function(){const{start:e,end:t,wpp:s,resource:a,location:o}=this.form();return{start:e,end:t,wpp:0===s.length?this.$RED.API_FOR_ZERO_SELECTED:s,resource:0===a.length?this.$RED.API_FOR_ZERO_SELECTED:a,location:0===o.length?this.$RED.API_FOR_ZERO_SELECTED:o}},form:function(){const{start:e,end:t}=this.selectedDateRange?(0,ke.IU)(this.selectedDateRange):this.resetRangeDate();return{start:e,end:t,wpp:this.wppValue(),resource:this.resourceValue(),location:this.locationValue()}},pass:function(e){const{start:t,end:s,wpp:a,resource:o,location:l}=e;return null===t||null===s?"Inputkan Rentang tanggal":!a||a.length<=0?(this.wppFocused(),this.$refs.wpp.$el.focus(),"Inputkan WPP"):!o||o.length<=0?(this.resourceFocused(),this.$refs.resource.$el.focus(),"Inputkan Sumber Daya"):!l||l.length<=0?(this.locationFocused(),this.$refs.location.$el.focus(),"Inputkan Lokasi"):void 0},insertImage:function(e=!1){e&&(this.insertingImage=!0,this.loading=!0),this.insertGraphicImage(this.graphicImageName,(()=>{this.successfullyInsertedImage()}),(()=>{this.failedToInsertImage()}))},successfullyGenerated({status:e,graphicImageName:t},s){s!==this.tryingAt||this.canceled||("SUCCESS"===e?(this.graphicImageName=t||"",this.insertingImage=!0,this.insertImage()):this.failedToGenerate())},failedToGenerate:function(){this.graphicImageName="",this.loading=!1,this.$error("Grafik tidak berhasil digenerate.")},generate:async function(){const e=this.form(),t=this.pass(e);if(t)return void this.$error(t);this.tryingAt++;const s=this.tryingAt;this.graphicImageName="",this.loading=!0,this.canceled=!1,this.insertingImage=!1,this.$store.commit("setSearchText",""),this.axios.post(`${this.$RED.HOST}/${this.$RED.PRODUKSI_IKAN_PER_SUMBER_DAYA}`,e).then((({data:e})=>{this.successfullyGenerated(e,s)})).catch((()=>{s===this.tryingAt&&this.failedToGenerate()}))},cancel:function(){this.loading=!1,this.canceled=!0,this.$error("Dibatalkan oleh pengguna")},successfullyInsertedImage:function(){this.insertingImage=!1,this.loading=!1,this.$success("Grafik berhasil disisipkan")},failedToInsertImage:function(){this.insertingImage=!1,this.loading=!1,this.$error("Grafik gagal disisipkan")}}};const wa=(0,T.Z)(ba,[["render",ya],["__scopeId","data-v-a7b0f4c0"]]);var xa=wa;const Ra=e=>((0,o.dD)("data-v-2486f6a6"),e=e(),(0,o.Cn)(),e),ka={ref:"sectioncontainer",class:"flex-1 mt-20 pt-1 pb-5 mb-10 bg-gray-100 h-full"},Ta={key:1,style:{"z-index":"10000"},class:"text-xs text-red-500 absolute bottom-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},_a={class:"max-w-screen-xl mx-auto"},$a={ref:"toTop",autocomplete:"off",class:"h-0 -mt-10"},va={class:"max-w-lg mx-auto"},Da={class:"pl-6 pr-4 mb-0 space-y-5 rounded-lg"},Ca={class:"flex-col"},La={class:"flex flex-row text-gray-700 item-center justify-between pb-2"},Ia={class:"flex flex-row text-gray-700 item-center"},Aa=Ra((()=>(0,o._)("span",{class:"text-base font-medium pl-1 pb-4 font-semibold text-sky-700"},"Parameter Pembuatan Grafik",-1))),Ma=Ra((()=>(0,o._)("label",{for:"date-range",class:"text-xs font-medium pl-1 text-gray-600"},"Rentang Tanggal",-1))),Ea={class:"relative mt-1"},Sa=["value"],Ua=Ra((()=>(0,o._)("label",{for:"wpp",class:"text-xs font-medium pl-1 text-gray-600"},"WPP",-1))),Fa={class:"relative mt-1"},Pa=["onMousedown"],Wa=Ra((()=>(0,o._)("label",{for:"resource",class:"text-xs font-medium pl-1 text-gray-600"},"Sumber Daya",-1))),Oa={class:"relative mt-1"},Ga=["onMousedown"],Na=Ra((()=>(0,o._)("label",{for:"location",class:"text-xs font-medium pl-1 text-gray-600"},"Lokasi Pendaratan/Sampling",-1))),za={class:"relative mt-1"},Va=["onMousedown"],Ha=Ra((()=>(0,o._)("label",{for:"spesies",class:"text-xs font-medium pl-1 text-gray-600"},"Spesies",-1))),Ya={class:"relative mt-1"},Za=["onMousedown"],ja={class:"flex space-x-3"},Ka=Ra((()=>(0,o._)("label",{for:"min-length",class:"text-xs font-medium text-gray-600"},"Panjang Minimal",-1))),qa={class:"relative mt-1"},Ba=Ra((()=>(0,o._)("label",{for:"max-length",class:"text-xs font-medium text-gray-600"},"Panjang Maksimal",-1))),Qa={class:"relative mt-1"},Ja={class:"flex flex-col w-full pt-2"},Xa=Ra((()=>(0,o._)("span",{class:"text-gray-200 ml-2"},"Hasilkan Grafik",-1))),eo=Ra((()=>(0,o._)("span",{class:"text-gray-500 ml-2"},"Sisipkan Ulang Gambar",-1)));function to(e,t,s,n,i,r){const c=(0,o.up)("loading"),u=(0,o.up)("UilDocumentLayoutLeft"),d=(0,o.up)("DatePicker"),p=(0,o.up)("UilFileInfoAlt"),g=(0,o.up)("UilTrashAlt"),h=(0,o.up)("Multiselect"),m=(0,o.up)("UilChartLine"),f=(0,o.up)("UilFileRedoAlt"),y=(0,o.up)("UilPicture"),b=(0,o.Q2)("tippy"),w=(0,o.Q2)("maska");return(0,o.wg)(),(0,o.iD)("div",ka,[i.loading&&!i.insertingImage?((0,o.wg)(),(0,o.iD)("button",{key:0,style:{"z-index":"10000"},onClick:t[0]||(t[0]=(...e)=>r.cancel&&r.cancel(...e)),class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-3 py-2 text-xs mb-12 font-medium text-white bg-red-500 rounded-lg hover:bg-red-700 focus:ring"}," Batalkan ")):(0,o.kq)("",!0),i.insertingImage?((0,o.wg)(),(0,o.iD)("span",Ta," Menyisipkan gambar ... ")):(0,o.kq)("",!0),(0,o.Wm)(c,{active:i.loading,"onUpdate:active":t[1]||(t[1]=e=>i.loading=e),color:"#ff2020",width:25,height:25,opacity:.9,"is-full-page":!0},null,8,["active","opacity"]),(0,o._)("div",_a,[(0,o._)("input",$a,null,512),(0,o._)("div",va,[(0,o._)("div",Da,[(0,o._)("div",Ca,[(0,o._)("div",La,[(0,o._)("div",Ia,[Aa,(0,o.Wm)(u,{size:"1.25rem",class:"text-sky-700 outline-none ml-3"})])]),Ma,(0,o._)("div",Ea,[(0,o.Wm)(d,{modelValue:i.selectedDateRange,"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedDateRange=e),popover:{visibility:"click"},"max-date":new Date,onDayclick:r.onDateRangeChanged,"model-config":i.dateRangeConfig,locale:"id-ID",masks:i.dateRangeMasks,"is-range":""},{default:(0,o.w5)((({inputValue:s,inputEvents:a})=>[(0,o._)("input",(0,o.dG)({placeholder:"Masukan rentang tanggal",class:[e.$style.form.input,"bg-white w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400 focus-within:outline-sky-400"],value:r.formatDateRange(s)},(0,o.mx)(a.end),{onFocus:t[2]||(t[2]=(...e)=>r.onDateRangeOpened&&r.onDateRangeOpened(...e))}),null,16,Sa)])),_:1},8,["modelValue","max-date","onDayclick","model-config","masks"])])]),(0,o._)("div",null,[Ua,(0,o._)("div",Fa,[(0,o.Wm)(h,{placeholder:"Pilih wpp","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedWpp,"onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedWpp=e),ref:"wpp",onClick:r.wppFocused,mode:i.wppTagsMode?"tags":"multiple",multipleLabel:r.allWppSelected,classes:e.$style.multiselect.component(i.wppFetched,i.wppTagsMode),onChange:t[6]||(t[6]=e=>r.wppTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.wppFetched?-1:i.shouldWppRetrieve?0:-1,options:r.getWpp},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,Pa)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.wppTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedWpp)]]),i.wppTagsMode&&i.selectedWpp.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[4]||(t[4]=t=>e.$refs.wpp.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[Wa,(0,o._)("div",Oa,[(0,o.Wm)(h,{placeholder:"Pilih sumber daya","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedResource,"onUpdate:modelValue":t[8]||(t[8]=e=>i.selectedResource=e),ref:"resource",onClick:r.resourceFocused,mode:i.resourceTagsMode?"tags":"multiple",multipleLabel:r.allResourceSelected,classes:e.$style.multiselect.component(i.resourceFetched,i.resourceTagsMode),onChange:t[9]||(t[9]=e=>r.resourceTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.resourceFetched?-1:i.shouldResourceRetrieve?0:-1,options:r.getResources},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,Ga)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.resourceTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedResource)]]),i.resourceTagsMode&&i.selectedResource.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[7]||(t[7]=t=>e.$refs.resource.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[Na,(0,o._)("div",za,[(0,o.Wm)(h,{placeholder:"Pilih lokasi","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedLocation,"onUpdate:modelValue":t[11]||(t[11]=e=>i.selectedLocation=e),ref:"location",onClick:r.locationFocused,mode:i.locationTagsMode?"tags":"multiple",multipleLabel:r.allLocationSelected,classes:e.$style.multiselect.component(i.locationFetched,i.locationTagsMode),onChange:t[12]||(t[12]=e=>r.locationTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.locationFetched?-1:i.shouldLocationRetrieve?0:-1,options:r.getLocations},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,Va)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.locationTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedLocation)]]),i.locationTagsMode&&i.selectedLocation.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[10]||(t[10]=t=>e.$refs.location.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",null,[Ha,(0,o._)("div",Ya,[(0,o.Wm)(h,{placeholder:"Pilih spesies","no-results-text":"Tidak ditemukan","no-options-text":"Data kosong",modelValue:i.selectedSpecies,"onUpdate:modelValue":t[14]||(t[14]=e=>i.selectedSpecies=e),ref:"species",onClick:r.speciesFocused,mode:i.speciesTagsMode?"tags":"multiple",multipleLabel:r.allSpeciesSelected,classes:e.$style.multiselect.component(i.speciesFetched,i.speciesTagsMode),onChange:t[15]||(t[15]=e=>r.speciesTagCreated(e)),"create-option":!1,"close-on-select":!1,groups:!0,"filter-results":!0,searchable:!0,"resolve-on-load":!1,"clear-on-select":!1,delay:i.speciesFetched?-1:i.shouldSpeciesRetrieve?0:-1,options:r.getSpecies},{tag:(0,o.w5)((({option:t,handleTagRemove:s})=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(e.$style.multiselect.tagWrapper)},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagLabel)},(0,l.zw)(e.$normalizeTag(t.label)),3),(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemove),onMousedown:(0,a.iM)((e=>s(t,e)),["prevent"])},[(0,o._)("span",{class:(0,l.C_)(e.$style.multiselect.tagRemoveIcon)},null,2)],42,Za)],2)),[[b,e.$tagTooltip(t.label)]])])),clear:(0,o.w5)((()=>[i.speciesTagsMode?(0,o.kq)("",!0):(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{key:0,size:"1.25rem",class:"absolute right-3 text-gray-400 outline-none"},null,512)),[[b,r.tippyOnAllSelected(i.selectedSpecies)]]),i.speciesTagsMode&&i.selectedSpecies.length>0?(0,o.wy)(((0,o.wg)(),(0,o.j4)(g,{key:1,onClick:t[13]||(t[13]=t=>e.$refs.species.clear()),size:"1.1rem",class:"absolute right-3.5 bottom-4 text-gray-400 outline-none"},null,512)),[[b,{content:"Bersihkan",placement:"bottom"}]]):(0,o.kq)("",!0)])),_:1},8,["modelValue","onClick","mode","multipleLabel","classes","delay","options"])])]),(0,o._)("div",ja,[(0,o._)("div",null,[Ka,(0,o._)("div",qa,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>i.selectedMinLength=e),type:"text",autocomplete:"off",id:"min-length",class:(0,l.C_)([e.$style.form.input,"w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400"]),placeholder:"Minimal"},null,2),[[a.nr,i.selectedMinLength],[w,i.lengthMask]])])]),(0,o._)("div",null,[Ba,(0,o._)("div",Qa,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>i.selectedMaxLength=e),type:"text",autocomplete:"off",id:"max-length",class:(0,l.C_)([e.$style.form.input,"w-full py-3 px-4 text-xs border-gray-200 rounded-lg shadow-sm outline-sky-400"]),placeholder:"Maksimal"},null,2),[[a.nr,i.selectedMaxLength],[w,i.lengthMask]])])])]),(0,o._)("div",Ja,[(0,o._)("div",{class:(0,l.C_)(i.graphicImageName?"flex w-full pt-2.5 space-x-3":"flex w-full pt-2.5 space-x-3 mb-20")},[(0,o._)("button",{onClick:t[18]||(t[18]=(...e)=>r.generate&&r.generate(...e)),class:"w-full flex flex-row px-4 py-2.5 text-left text-xs font-medium text-white items-center bg-sky-600 rounded-lg hover:bg-sky-700 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(m,{size:"1.25rem",class:"text-gray-200"}),Xa]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[19]||(t[19]=(...e)=>r.resetAll&&r.resetAll(...e)),class:"hover:text-gray-100 flex flex-col items-center w-12 py-2.5 py-3 text-xs font-medium text-white bg-gray-200 rounded-lg hover:bg-gray-300 border-gray-300 border-2 border-solid focus:border-sky-400"},[(0,o.Wm)(f,{size:"1.25rem",class:"text-gray-400"})])),[[b,{content:"Atur Ulang",placeholder:"bottom"}]])],2),i.graphicImageName?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[20]||(t[20]=(...e)=>r.insertImage&&r.insertImage(...e)),class:"text-left mb-20 mt-3.5 w-full border-dashed border-2 border-gray-200 px-4 py-2.5 text-xs font-medium focus:border-solid focus:border-sky-500 flex flex-row items-center bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200"},[(0,o.Wm)(y,{size:"1.25rem",class:"text-gray-400"}),eo])):(0,o.kq)("",!0)])])])])],512)}var so={name:"StrukturIkanTertangkap",inject:["insertGraphicImage"],components:{Loading:xe(),Multiselect:Re.Z,DatePicker:Te.Mt,UilFileRedoAlt:_e.Z,UilFileInfoAlt:$e.Z,UilChartLine:ve.Z,UilDocumentLayoutLeft:De.Z,UilPicture:Ce.Z,UilTrashAlt:Le.Z},directives:{},mounted(){this.scrollToTop()},data(){return{graphicImageName:"",tryingAt:0,loading:!1,canceled:!1,insertingImage:!1,lengthMask:P.lengthMasker,weightMask:P.weightMasker,selectedDateRange:this.resetRangeDate(),dateRangeOpened:!1,dateRangeDayClicked:0,dateRangeMasks:{title:"MMMM YYYY",input:"DD MMMM YYYY"},dateRangeConfig:{type:"string",mask:"YYYY-MM-DD"},selectedWpp:[],shouldWppRetrieve:!0,wppFetched:!1,wppTotal:0,wppTagsMode:!0,selectedResource:[],shouldResourceRetrieve:!1,resourceFetched:!1,resourceTotal:0,resourceTagsMode:!0,selectedLocation:[],shouldLocationRetrieve:!1,locationFetched:!1,locationTotal:0,locationTagsMode:!0,selectedSpecies:[],shouldSpeciesRetrieve:!1,speciesFetched:!1,speciesTotal:0,speciesTagsMode:!0,selectedMinLength:"",selectedMaxLength:""}},methods:{formatDateRange:function(e){return e.start&&e.start?`${e.start} - ${e.end}`:""},resetRangeDate:function(){return{start:new Date("2019-01-01"),end:new Date("2019-12-31")}},onDateRangeOpened:function(){this.dateRangeOpened=!0,this.dateRangeDayClicked=0},onDateRangeChanged:function(){this.dateRangeDayClicked++,this.dateRangeDayClicked%2===0&&this.resetWpp()},scrollToTop(){this.$refs.toTop.focus()},resetAll:function(){this.graphicImageName="",this.selectedDateRange=(0,ke.iH)(this.resetRangeDate()),this.resetWpp(),this.selectedMinLength="",this.selectedMaxLength="",this.scrollToTop()},wppValue(){const e=(0,ke.IU)(this.selectedWpp);return e.length>0&&e.length===this.wppTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allWppSelected:function(){return`${this.$RED.ALL_WPP}&nbsp;&nbsp;(${this.wppTotal})`},wppTagCreated:function(e){this.wppTagsMode=!(this.wppTotal>1&&e.length===this.wppTotal),this.onWppChanged()},resetWpp:function(){this.shouldWppRetrieve=!0,this.wppFetched=!1,(0,ke.IU)(this.selectedWpp).length>0&&(this.$refs.wpp.clear(),this.$refs.wpp.clearSearch()),this.wppTotal=0,this.resetResource()},wppFocused:function(){!this.wppFetched&&this.shouldWppRetrieve&&this.$refs.wpp.refreshOptions()},getWpp:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.STRUKTUR_UKURAN_IKAN_TERTANGKAP}/wpp`,this.formForAsync());return this.wppTotal=e&&e.length>0?e[0]["options"].length:0,this.wppFetched=!0,e},onWppChanged:function(){this.resetResource()},resourceValue(){const e=(0,ke.IU)(this.selectedResource);return e.length>0&&e.length===this.resourceTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allResourceSelected:function(){return`${this.$RED.ALL_RESOURCE}&nbsp;&nbsp;(${this.resourceTotal})`},resourceTagCreated:function(e){this.resourceTagsMode=!(this.resourceTotal>1&&e.length===this.resourceTotal),this.onResourceChanged()},resetResource:function(){this.shouldResourceRetrieve=!0,this.resourceFetched=!1,(0,ke.IU)(this.selectedResource).length>0&&this.$refs.resource.clear(),this.resourceTotal=0,this.resetLocation()},resourceFocused:function(){!this.resourceFetched&&this.shouldResourceRetrieve&&this.$refs.resource.refreshOptions()},getResources:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.STRUKTUR_UKURAN_IKAN_TERTANGKAP}/resources`,this.formForAsync());return this.resourceTotal=e.length>0?e[0]["options"].length:0,this.resourceFetched=!0,e},onResourceChanged:function(){this.resetLocation()},locationValue(){const e=(0,ke.IU)(this.selectedLocation);return e.length>0&&e.length===this.locationTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allLocationSelected:function(){return`${this.$RED.ALL_LOCATION}&nbsp;&nbsp;(${this.locationTotal})`},locationTagCreated:function(e){this.locationTagsMode=!(this.locationTotal>1&&e.length===this.locationTotal),this.onLocationChanged()},resetLocation:function(){this.shouldLocationRetrieve=!0,this.locationFetched=!1,(0,ke.IU)(this.selectedLocation).length>0&&this.$refs.location.clear(),this.locationTotal=0,this.resetSpecies()},locationFocused:function(){!this.locationFetched&&this.shouldLocationRetrieve&&this.$refs.location.refreshOptions()},getLocations:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.STRUKTUR_UKURAN_IKAN_TERTANGKAP}/locations`,this.formForAsync());return this.locationTotal=e.length>0?e[0]["options"].length:0,this.locationFetched=!0,e},onLocationChanged:function(){this.resetSpecies()},speciesValue(){const e=(0,ke.IU)(this.selectedSpecies);return e.length>0&&e.length===this.speciesTotal?[this.$RED.API_FOR_ALL_SELECTED]:e},allSpeciesSelected:function(){return`${this.$RED.ALL_SPECIES}&nbsp;&nbsp;(${this.speciesTotal})`},speciesTagCreated:function(e){this.speciesTagsMode=!(this.speciesTotal>1&&e.length===this.speciesTotal)},resetSpecies:function(){this.shouldSpeciesRetrieve=!0,this.speciesFetched=!1,(0,ke.IU)(this.selectedSpecies).length>0&&this.$refs.species.clear(),this.speciesTotal=0},speciesFocused:function(){!this.speciesFetched&&this.shouldSpeciesRetrieve&&this.$refs.species.refreshOptions()},getSpecies:async function(){const{data:e}=await this.axios.post(`${this.$RED.HOST}/${this.$RED.STRUKTUR_UKURAN_IKAN_TERTANGKAP}/species`,this.formForAsync());return this.speciesTotal=e.length>0?e[0]["options"].length:0,this.speciesFetched=!0,e},tippyOnAllSelected:function(e){const t=(0,ke.IU)(e),s=t.reduce(((e,s,a)=>`${e} ${s}${a<t.length-1?" <br>":""}`),"");return{content:s,placement:"left"}},formForAsync:function(){const{start:e,end:t,wpp:s,resource:a,location:o,species:l}=this.form();return{start:e,end:t,wpp:0===s.length?this.$RED.API_FOR_ZERO_SELECTED:s,resource:0===a.length?this.$RED.API_FOR_ZERO_SELECTED:a,location:0===o.length?this.$RED.API_FOR_ZERO_SELECTED:o,species:0===a.length?this.$RED.API_FOR_ZERO_SELECTED:l}},form:function(){const{start:e,end:t}=this.selectedDateRange?(0,ke.IU)(this.selectedDateRange):this.resetRangeDate();return{start:e,end:t,wpp:this.wppValue(),resource:this.resourceValue(),location:this.locationValue(),species:this.speciesValue(),minLength:(0,P.normalizeNumber)(this.selectedMinLength),maxLength:(0,P.normalizeNumber)(this.selectedMaxLength)||1e6}},pass:function(e){const{start:t,end:s,wpp:a,resource:o,location:l,species:n}=e;return null===t||null===s?"Inputkan Rentang tanggal":!a||a.length<=0?(this.wppFocused(),this.$refs.wpp.$el.focus(),"Inputkan WPP"):!o||o.length<=0?(this.resourceFocused(),this.$refs.resource.$el.focus(),"Inputkan Sumber Daya"):!l||l.length<=0?(this.locationFocused(),this.$refs.location.$el.focus(),"Inputkan Lokasi"):!n||n.length<=0?(this.speciesFocused(),this.$refs.species.$el.focus(),"Inputkan Species"):void 0},insertImage:function(e=!1){e&&(this.insertingImage=!0,this.loading=!0),this.insertGraphicImage(this.graphicImageName,(()=>{this.successfullyInsertedImage()}),(()=>{this.failedToInsertImage()}))},successfullyGenerated({status:e,graphicImageName:t},s){s!==this.tryingAt||this.canceled||("SUCCESS"===e?(this.graphicImageName=t||"",this.insertingImage=!0,this.insertImage()):this.failedToGenerate())},failedToGenerate:function(){this.graphicImageName="",this.loading=!1,this.$error("Grafik tidak berhasil digenerate.")},generate:async function(){const e=this.form(),t=this.pass(e);if(t)return void this.$error(t);this.tryingAt++;const s=this.tryingAt;this.graphicImageName="",this.loading=!0,this.canceled=!1,this.insertingImage=!1,this.$store.commit("setSearchText",""),this.axios.post(`${this.$RED.HOST}/${this.$RED.STRUKTUR_UKURAN_IKAN_TERTANGKAP}`,e).then((({data:e})=>{this.successfullyGenerated(e,s)})).catch((()=>{s===this.tryingAt&&this.failedToGenerate()}))},cancel:function(){this.loading=!1,this.canceled=!0,this.$error("Dibatalkan oleh pengguna")},successfullyInsertedImage:function(){this.insertingImage=!1,this.loading=!1,this.$success("Grafik berhasil disisipkan")},failedToInsertImage:function(){this.insertingImage=!1,this.loading=!1,this.$error("Grafik gagal disisipkan")}}};const ao=(0,T.Z)(so,[["render",to],["__scopeId","data-v-2486f6a6"]]);var oo=ao;const lo=(0,v.p7)({history:(0,v.PO)("/"),routes:[{path:"/",component:G},{path:"/userCodeAppPanel",component:G},{path:`/${(0,P.translateToURL)(N.HUBUNGAN_PANJANG_BERAT)}`,component:Me},{path:`/${(0,P.translateToURL)(N.CPUE)}`,component:rt},{path:`/${(0,P.translateToURL)(N.LPUE)}`,component:Wt},{path:`/${(0,P.translateToURL)(N.HASIL_TANGKAPAN_PER_TRIP)}`,component:hs},{path:`/${(0,P.translateToURL)(N.PRODUKSI_IKAN_PER_ALAT_TANGKAP)}`,component:Hs},{path:`/${(0,P.translateToURL)(N.PRODUKSI_IKAN_PER_SUMBER_DAYA)}`,component:xa},{path:`/${(0,P.translateToURL)(N.STRUKTUR_UKURAN_IKAN_TERTANGKAP)}`,component:oo}],scrollBehavior(){window.scrollTo(0,0)}});var no=lo,io=s(65);const ro=(0,io.MT)({state(){return{homepage:!0,search:!1,headerTitle:"Graphics Engine",searchText:""}},mutations:{setHomepage(e,t){e.homepage=t},setSearch(e,t){e.search=t},setSearchText(e,t){e.searchText=t},setHeaderTitle(e,t){e.headerTitle=t}}});var co=ro,uo=s(2636),po=s(6265),go=s.n(po),ho=s(6423),mo=s(9583);const fo="sky-400",yo="gray-100",bo="gray-200",wo="sky-400",xo="-lg",Ro="gray-700",ko="gray-500";var To={form:{label:`text-xs font-medium pl-1 text-${Ro} `,input:`text-${ko}`},multiselect:{component:function(e,t){return{clearIcon:"",multipleLabel:"py-1 relative z-1 flex text-start h-full  left-1 top-0 pointer-events-none bg-transparent",container:`border-2 border-solid border-${yo}  focus-within:border-${fo} relative mx-auto w-full flex items-center justify-start box-border cursor-pointer bg-white rounded${xo} py-2 pl-2 pr-0 text-xs shadow-sm `,dropdown:e?`max-h-64 absolute -left-px -right-px -bottom-1 transform translate-y-full border-2 pb-1 border-${bo} -mt-px overflow-y-auto z-30 bg-white flex flex-col rounded${xo}`:"hidden",dropdownTop:`-translate-y-full top-px bottom-auto rounded-${xo}`,dropdownHidden:"hidden",caret:t?"hidden":`px-3 bg-multiselect-caret bg-center bg-no-repeat w-2.5 h-4 box-content mr-3.5 relative opacity-40 flex-shrink-0 flex-grow-0 transition-transform transform pointer-events-none rounded${xo} `,caretOpen:t?"hidden":"rotate-180 pointer-events-auto",tagsSearch:t?"absolute outline-none inset-0 border-1 appearance-none  text-xs box-border w-full -ml-1.5":`absolute outline-none inset-0 border-1 focus:ring-0 appearance-none text-xs box-border w-full rounded${xo} ml-3`,tagsSearchWrapper:`inline-block relative mx-1 mb-1 flex-grow flex-shrink h-full outline-${wo} rounded${xo}`,tagSearch:`w-full absolute inset-0 outline-${wo} appearance-none box-border border-0 text-xs bg-white rounded${xo}`,search:`w-full absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-0 text-xs bg-white rounded${xo} pl-3.5`,noOptions:"py-2 px-3 text-red-500 bg-white text-left",noResults:"py-2 px-3 text-red-500 bg-white text-left",groupLabel:"flex text-xs box-border items-center justify-start text-left py-3 px-3 font-medium bg-green-50 text-green-700 leading-normal cursor-pointer",groupLabelSelectedPointed:"bg-green-100 hover:bg-green-50 text-green-700 ",groupLabelPointed:"bg-green-100 text-green-700 ",groupLabelSelected:"bg-green-50 text-green-700 "}},tagWrapper:"bg-sky-100 text-xs font-medium py-1 pl-2.5 pr-1 rounded-lg mr-1 mb-1 flex items-center whitespace-nowrap",tagLabel:`text-${ko}`,tagRemove:`multiselect-tag-remove text-${ko}`,tagRemoveIcon:`multiselect-tag-remove-icon text-${ko}`}},_o=s(814);s(6718);const $o=(0,a.ri)($);$o.provide("insertGraphicImage",(async(e,t,s)=>{google.script.run.withSuccessHandler(t).withFailureHandler(s).insertGraphic(e)})),$o.config.globalProperties.$style=To,$o.config.globalProperties.$RED=N,$o.config.globalProperties.$error=function(e){this.$notify({title:e,type:"error"})},$o.config.globalProperties.$success=function(e){this.$notify({title:e,type:"success"})},$o.config.globalProperties.$tagTooltip=function(e){return String(e).length>24?String(e):""},$o.config.globalProperties.$normalizeTag=function(e){return String(e).length>24?`${String(e).substring(0,23)}...`:e},$o.directive("focus",{mounted(e){e.focus()}}),$o.use(no),$o.use(co),$o.use(uo.Z),$o.use(ho.Z,go()),$o.use(Te.Sx,{}),$o.use(mo.ZP),$o.use(_o.ZP,{directive:"tippy",defaultProps:{placement:"auto-end",allowHTML:!0,delay:100,moveTransition:"transform 0.2s ease-out",appendTo:"parent",theme:"red"}}),$o.mount("#brpl-red")},529:function(e){const t={mask:["H cm","HH cm","HHH cm","HHHH cm","HHHHH cm","HHHHHH cm","HHHHHHH cm"],tokens:{H:{pattern:/^\d*\.?\d*$/}}},s={mask:["H gr!am","HH gr!am","HHH gr!am","HHHH gr!am","HHHHH gr!am","HHHHHH gr!am","HHHHHHH gr!am"],tokens:{H:{pattern:/^\d*\.?\d*$/}}};function a(e){return+e.replace(/[^\d.-]/g,"")}function o(e){return new Promise((t=>setTimeout(t,e)))}function l(e){return e.replace(/_/g,"-")}e.exports={normalizeNumber:a,lengthMasker:t,weightMasker:s,delay:o,translateToURL:l}}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,s),l.loaded=!0,l.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,a,o,l){if(!a){var n=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],l=e[u][2];for(var i=!0,r=0;r<a.length;r++)(!1&l||n>=l)&&Object.keys(s.O).every((function(e){return s.O[e](a[r])}))?a.splice(r--,1):(i=!1,l<n&&(n=l));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,o,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,n=a[0],i=a[1],r=a[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(r)var u=r(s)}for(t&&t(a);c<n.length;c++)l=n[c],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(u)},a=self["webpackChunkred_vue3"]=self["webpackChunkred_vue3"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(5726)}));a=s.O(a)})();
//# sourceMappingURL=app.b1701edc.js.map